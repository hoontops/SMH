<?xml version="1.0" encoding="utf-8"?>
<FDL version="2.1">
  <Form id="BAS04100M" width="1258" height="747" titletext="검사정의 및 통제" onload="fn_init" tooltiptext="MENU_PG-SD-0451">
    <Layouts>
      <Layout height="747" mobileorientation="landscape" width="1258" stepcount="0">
        <Tab id="tab_search" taborder="1" tabindex="0" left="0" top="47" cssclass="tab_search" bottom="3" width="290">
          <Tabpages>
            <Tabpage id="Tabpage1" text="Tabpage1">
              <Layouts>
                <Layout>
                  <Static id="Static12_00_00_00" taborder="3" text="w&#13;&#10;15" width="15" top="0" visible="false" height="300" cssclass="guideTip" right="0"/>
                  <Static id="Static12_00_00_00_00" taborder="4" text="w&#13;&#10;15" width="15" top="0" visible="false" height="300" cssclass="guideTip" left="0"/>
                  <Static id="Static12_00_00_00_01" taborder="5" text="h10" width="45" top="0" visible="false" height="10" cssclass="guideTip" right="91"/>
                  <Static id="sta_validState" taborder="6" text="유효상태" left="0" top="10" width="103" height="20" cssclass="sta_WF_label_point" tooltiptext="VALIDSTATE"/>
                  <Combo id="cbo_validState" taborder="0" text="CCT" left="108" top="10" height="20" index="1" value="" width="165" codecolumn="C,ValidState,ALL,Y,Y"/>
                  <Static id="Static12_00_00_00_01_00_03" taborder="7" text="h10" width="45" top="0" visible="false" height="10" cssclass="guideTip" right="228"/>
                  <Button id="btn_search" taborder="1" top="50" width="146" height="36" cssclass="btn_SA_search" left="14" text="검색" tooltiptext="Toolbar_Search" onclick="tab_search_Tabpage1_btn_search_onclick"/>
                  <Button id="btn_clear" taborder="2" top="50" width="102" height="36" cssclass="btn_SA_reset" left="170" text="초기화" tooltiptext="Toolbar_Initialization" onclick="fn_searchClear"/>
                </Layout>
              </Layouts>
            </Tabpage>
          </Tabpages>
        </Tab>
        <Static id="sta_searchTitle" taborder="0" text="검색조건" left="0" top="47" width="281" height="34" cssclass="sta_WF_subTitle" fittocontents="width" usedecorate="true" tooltiptext="SEARCH_CONDITION_GROUP"/>
        <Div id="div_work" taborder="2" text="Div00" top="47" formscrollbarsize="10" left="300" bottom="0" right="1">
          <Layouts>
            <Layout>
              <Static id="Static01" taborder="0" text="서브타이틀" left="112" top="-63" width="101" height="20" cssclass="sta_WF_title" fittocontents="width"/>
              <Tab id="tab" taborder="1" tabindex="0" left="0" top="0" right="0" bottom="0" onchanged="div_work_tab_onchanged" cssclass="tab_master">
                <Tabpages>
                  <Tabpage id="Tabpage1" text="검사 정의" tooltiptext="DEFECTCODE">
                    <Layouts>
                      <Layout>
                        <Grid id="grd_inspectionclassList" taborder="0" left="0" top="35" right="0" bottom="0%" autosizingtype="none" autofittype="none" autoenter="select" binddataset="ds_inspectionclassList" onexpandup="div_work_tab_Tabpage1_grd_defectcoderelList_onexpandup" oncloseup="div_work_tab_Tabpage1_grd_defectcoderelList_oncloseup">
                          <Formats>
                            <Format id="default">
                              <Columns>
                                <Column size="150"/>
                                <Column size="180"/>
                                <Column size="180"/>
                                <Column size="180"/>
                                <Column size="180"/>
                                <Column size="150"/>
                                <Column size="150"/>
                                <Column size="100"/>
                                <Column size="200"/>
                                <Column size="120"/>
                                <Column size="100"/>
                                <Column size="150"/>
                                <Column size="100"/>
                                <Column size="150"/>
                              </Columns>
                              <Rows>
                                <Row size="24" band="head"/>
                                <Row size="24"/>
                              </Rows>
                              <Band id="head">
                                <Cell tooltiptext="INSPECTIONCLASSID" text="검사종류" cssclass="cell_point"/>
                                <Cell col="1" tooltiptext="INSPECTIONCLASSNAMEKR" text="검사 종류 명(K)"/>
                                <Cell col="2" tooltiptext="INSPECTIONCLASSNAMEUS" text="검사 종류 명(E)"/>
                                <Cell col="3" tooltiptext="INSPECTIONCLASSNAMECN" text="검사 종류 명(C)"/>
                                <Cell col="4" tooltiptext="INSPECTIONCLASSNAMEVN" text="검사 종류 명(V)"/>
                                <Cell col="5" tooltiptext="INSPECTIONCLASSTYPE" text="검사종류"/>
                                <Cell col="6" tooltiptext="INSPECTIONRESOURCETYPE" text="검사유형"/>
                                <Cell col="7" tooltiptext="ISUSEITEM" text="검사항목사용여부"/>
                                <Cell col="8" tooltiptext="DESCRIPTION" text="설명"/>
                                <Cell col="9" tooltiptext="VALIDSTATE" text="유효상태" cssclass="cell_point"/>
                                <Cell col="10" tooltiptext="CREATORNAME" text="생성자명"/>
                                <Cell col="11" tooltiptext="CREATEDTIME" text="생성일"/>
                                <Cell col="12" tooltiptext="MODIFIERNAME" text="수정자명"/>
                                <Cell col="13" tooltiptext="MODIFIEDTIME" text="수정일"/>
                              </Band>
                              <Band id="body">
                                <Cell text="bind:INSPECTIONCLASSID" editmaxlength="100" textAlign="left" cssclass="expr:dataset.getRowType(currow) ==2 ? 'point':''" edittype="expr:dataset.getRowType(currow) ==2 ? 'text':'none'"/>
                                <Cell col="1" text="bind:INSPECTIONCLASSNAME_KR" textAlign="left" editmaxlength="500" displaytype="text" edittype="text"/>
                                <Cell col="2" text="bind:INSPECTIONCLASSNAME_US" textAlign="left" editmaxlength="500" displaytype="text" edittype="text"/>
                                <Cell col="3" text="bind:INSPECTIONCLASSNAME_CN" textAlign="left" editmaxlength="500" displaytype="text" edittype="text"/>
                                <Cell col="4" text="bind:INSPECTIONCLASSNAME_VN" textAlign="left" editmaxlength="500" displaytype="text" edittype="text"/>
                                <Cell col="5" text="bind:INSPECTIONCLASSTYPE" displaytype="combotext" combocodecol="C,InspectionClassType,,Y,N"/>
                                <Cell col="6" text="bind:INSPECTIONRESOURCETYPE" editmaxlength="100" displaytype="combotext" combocodecol="C,InspectionResourceType,,Y,N"/>
                                <Cell col="7" text="bind:ISUSEITEM"/>
                                <Cell col="8" text="bind:DESCRIPTION" editmaxlength="4000" displaytype="text" edittype="text"/>
                                <Cell col="9" text="bind:VALIDSTATE" cssclass="point" displaytype="combotext" edittype="combo" combocodecol="C,ValidState,,Y,Y"/>
                                <Cell col="10" text="bind:CREATORNAME"/>
                                <Cell col="11" text="bind:CREATEDTIME" displaytype="date" calendardateformat="yyyy-MM-dd HH:mm:ss" calendareditformat="yyyy-MM-dd HH:mm:ss"/>
                                <Cell col="12" text="bind:MODIFIERNAME"/>
                                <Cell col="13" text="bind:MODIFIEDTIME" displaytype="date" calendardateformat="yyyy-MM-dd HH:mm:ss" calendareditformat="yyyy-MM-dd HH:mm:ss"/>
                              </Band>
                            </Format>
                          </Formats>
                        </Grid>
                        <Static id="sta_subTitle" taborder="1" text="검사 정의 리스트" left="0" top="0" height="34" cssclass="sta_WF_subTitle" usedecorate="true" padding="5px 0px 0px" fittocontents="width" tooltiptext="INSPECTIONDEFINITIONLIST" width="165"/>
                        <Static id="sta_cnt_ds_inspectionclassList" taborder="2" left="sta_subTitle:17" top="0" height="34" cssclass="sta_WF_subTitle" usedecorate="true" padding="5px 0px 0px" text="Count : &lt;fc v=&quot;#f31d24&quot;&gt;0&lt;/fc&gt;" width="200"/>
                        <Button id="btn_xlDn_grd_defectcoderelList" taborder="3" top="6" width="29" height="24" cssclass="btn_WF_grdExcelDown" tooltiptext="GridExport" right="0" initvalueid="x"/>
                      </Layout>
                    </Layouts>
                  </Tabpage>
                  <Tabpage id="Tabpage2" text="검사 통제" tooltiptext="INSPECTIONCONTROL">
                    <Layouts>
                      <Layout>
                        <Static id="sta_subTitle" taborder="1" text="대공정" left="0" top="0" height="34" cssclass="sta_WF_subTitle" usedecorate="true" padding="5px 0px 0px" fittocontents="width" tooltiptext="TOPPROCESSSEGMENTCLASS" width="260"/>
                        <Grid id="grd_inspectionsegmentrelList" taborder="16" left="67.22%" top="50.15%" bottom="0" autosizingtype="none" autofittype="none" autoenter="select" binddataset="ds_inspectionsegmentrelList" right="0" oncloseup="div_work_tab_Tabpage2_grd_inspectionsegmentrelList_oncloseup">
                          <Formats>
                            <Format id="default">
                              <Columns>
                                <Column size="180"/>
                                <Column size="60"/>
                                <Column size="120"/>
                                <Column size="100"/>
                                <Column size="150"/>
                                <Column size="100"/>
                                <Column size="150"/>
                              </Columns>
                              <Rows>
                                <Row size="24" band="head"/>
                                <Row size="24"/>
                              </Rows>
                              <Band id="head">
                                <Cell tooltiptext="INSPECTIONCLASSNAME" text="검사 종류 명"/>
                                <Cell col="1" tooltiptext="ISREQUIRED" text="필수여부"/>
                                <Cell col="2" tooltiptext="VALIDSTATE" text="유효상태" cssclass="cell_point"/>
                                <Cell col="3" tooltiptext="CREATORNAME" text="생성자"/>
                                <Cell col="4" tooltiptext="CREATEDTIME" text="생성일"/>
                                <Cell col="5" tooltiptext="MODIFIERNAME" text="수정자"/>
                                <Cell col="6" tooltiptext="MODIFIEDTIME" text="수정일"/>
                              </Band>
                              <Band id="body">
                                <Cell text="bind:INSPECTIONCLASSNAME" textAlign="left"/>
                                <Cell col="1" text="bind:ISREQUIRED" displaytype="combotext" edittype="combo" combocodecol="C,YesNo,NAN,Y,Y"/>
                                <Cell col="2" text="bind:VALIDSTATE" cssclass="point" displaytype="combotext" edittype="combo" combocodecol="C,ValidState,,Y,Y"/>
                                <Cell col="3" text="bind:CREATORNAME"/>
                                <Cell col="4" text="bind:CREATEDTIME" displaytype="date" calendareditformat="yyyy-MM-dd HH:mm:ss" calendardateformat="yyyy-MM-dd HH:mm:ss"/>
                                <Cell col="5" text="bind:MODIFIERNAME"/>
                                <Cell col="6" text="bind:MODIFIEDTIME" displaytype="date" calendareditformat="yyyy-MM-dd HH:mm:ss" calendardateformat="yyyy-MM-dd HH:mm:ss"/>
                              </Band>
                            </Format>
                          </Formats>
                        </Grid>
                        <Static id="sta_subTitle05" taborder="15" text="검사종류" left="67.22%" cssclass="sta_WF_subTitle" usedecorate="true" padding="5px 0px 0px" fittocontents="width" tooltiptext="INSPECTIONCLASS" bottom="grd_inspectionsegmentrelList:0" height="34" width="66"/>
                        <Grid id="grd_processsegmentclassList" taborder="11" left="67.19%" top="34" bottom="sta_subTitle05:0" autosizingtype="none" autofittype="col" autoenter="select" binddataset="ds_processsegmentclassList" right="0">
                          <Formats>
                            <Format id="default">
                              <Columns>
                                <Column size="80"/>
                                <Column size="200"/>
                              </Columns>
                              <Rows>
                                <Row size="24" band="head"/>
                                <Row size="24"/>
                              </Rows>
                              <Band id="head">
                                <Cell tooltiptext="PROCESSSEGMENT" text="공정"/>
                                <Cell col="1" tooltiptext="PROCESSSEGMENTNAME" text="공정명"/>
                              </Band>
                              <Band id="body">
                                <Cell text="bind:PROCESSSEGMENTID"/>
                                <Cell col="1" text="bind:PROCESSSEGMENTNAME" textAlign="left"/>
                              </Band>
                            </Format>
                          </Formats>
                        </Grid>
                        <Grid id="grd_inspectionsegmentrelMList" taborder="17" top="50.15%" bottom="0" autosizingtype="none" autofittype="none" autoenter="select" binddataset="ds_inspectionsegmentrelMList" right="grd_inspectionsegmentrelList:10" left="33.61%" oncloseup="div_work_tab_Tabpage2_grd_inspectionsegmentrelMList_oncloseup">
                          <Formats>
                            <Format id="default">
                              <Columns>
                                <Column size="180"/>
                                <Column size="60"/>
                                <Column size="120"/>
                                <Column size="100"/>
                                <Column size="150"/>
                                <Column size="100"/>
                                <Column size="150"/>
                              </Columns>
                              <Rows>
                                <Row size="24" band="head"/>
                                <Row size="24"/>
                              </Rows>
                              <Band id="head">
                                <Cell tooltiptext="INSPECTIONCLASSNAME" text="검사 종류 명"/>
                                <Cell col="1" tooltiptext="ISREQUIRED" text="필수여부"/>
                                <Cell col="2" tooltiptext="VALIDSTATE" text="유효상태" cssclass="cell_point"/>
                                <Cell col="3" tooltiptext="CREATORNAME" text="생성자"/>
                                <Cell col="4" tooltiptext="CREATEDTIME" text="생성일"/>
                                <Cell col="5" tooltiptext="MODIFIERNAME" text="수정자"/>
                                <Cell col="6" tooltiptext="MODIFIEDTIME" text="수정일"/>
                              </Band>
                              <Band id="body">
                                <Cell text="bind:INSPECTIONCLASSNAME" textAlign="left"/>
                                <Cell col="1" text="bind:ISREQUIRED" displaytype="combotext" edittype="combo" combocodecol="C,YesNo,NAN,Y,Y"/>
                                <Cell col="2" text="bind:VALIDSTATE" cssclass="point" displaytype="combotext" edittype="combo" combocodecol="C,ValidState,,Y,Y"/>
                                <Cell col="3" text="bind:CREATORNAME"/>
                                <Cell col="4" text="bind:CREATEDTIME" displaytype="date" calendareditformat="yyyy-MM-dd HH:mm:ss" calendardateformat="yyyy-MM-dd HH:mm:ss"/>
                                <Cell col="5" text="bind:MODIFIERNAME"/>
                                <Cell col="6" text="bind:MODIFIEDTIME" displaytype="date" calendareditformat="yyyy-MM-dd HH:mm:ss" calendardateformat="yyyy-MM-dd HH:mm:ss"/>
                              </Band>
                            </Format>
                          </Formats>
                        </Grid>
                        <Static id="sta_subTitle03" taborder="7" text="검사종류" left="33.61%" cssclass="sta_WF_subTitle" usedecorate="true" padding="5px 0px 0px" fittocontents="width" tooltiptext="INSPECTIONCLASS" bottom="grd_inspectionsegmentrelMList:0" height="34" width="66"/>
                        <Grid id="grd_processsegmentclassMList" taborder="10" top="34" bottom="sta_subTitle03:0" autosizingtype="none" autofittype="col" autoenter="select" binddataset="ds_processsegmentclassMList" left="33.61%" right="grd_processsegmentclassList:10">
                          <Formats>
                            <Format id="default">
                              <Columns>
                                <Column size="80"/>
                                <Column size="200"/>
                              </Columns>
                              <Rows>
                                <Row size="24" band="head"/>
                                <Row size="24"/>
                              </Rows>
                              <Band id="head">
                                <Cell tooltiptext="PROCESSSEGMENT" text="공정"/>
                                <Cell col="1" tooltiptext="PROCESSSEGMENTNAME" text="공정명"/>
                              </Band>
                              <Band id="body">
                                <Cell text="bind:PROCESSSEGMENTCLASSID"/>
                                <Cell col="1" text="bind:PROCESSSEGMENTCLASSNAME" textAlign="left"/>
                              </Band>
                            </Format>
                          </Formats>
                        </Grid>
                        <Grid id="grd_inspectionsegmentrelLList" taborder="3" left="0" top="50.15%" bottom="0" autosizingtype="none" autofittype="none" autoenter="select" binddataset="ds_inspectionsegmentrelLList" right="grd_inspectionsegmentrelMList:10" oncloseup="div_work_tab_Tabpage2_grd_inspectionsegmentrelLList_oncloseup">
                          <Formats>
                            <Format id="default">
                              <Columns>
                                <Column size="180"/>
                                <Column size="60"/>
                                <Column size="120"/>
                                <Column size="100"/>
                                <Column size="150"/>
                                <Column size="100"/>
                                <Column size="150"/>
                              </Columns>
                              <Rows>
                                <Row size="24" band="head"/>
                                <Row size="24"/>
                              </Rows>
                              <Band id="head">
                                <Cell tooltiptext="INSPECTIONCLASSNAME" text="검사 종류 명"/>
                                <Cell col="1" tooltiptext="ISREQUIRED" text="필수여부"/>
                                <Cell col="2" tooltiptext="VALIDSTATE" text="유효상태" cssclass="cell_point"/>
                                <Cell col="3" tooltiptext="CREATORNAME" text="생성자"/>
                                <Cell col="4" tooltiptext="CREATEDTIME" text="생성일"/>
                                <Cell col="5" tooltiptext="MODIFIERNAME" text="수정자"/>
                                <Cell col="6" tooltiptext="MODIFIEDTIME" text="수정일"/>
                              </Band>
                              <Band id="body">
                                <Cell text="bind:INSPECTIONCLASSNAME" textAlign="left"/>
                                <Cell col="1" text="bind:ISREQUIRED" combocodecol="C,YesNo,NAN,Y,Y" displaytype="combotext" edittype="combo"/>
                                <Cell col="2" text="bind:VALIDSTATE" cssclass="point" displaytype="combotext" edittype="combo" combocodecol="C,ValidState,,Y,Y"/>
                                <Cell col="3" text="bind:CREATORNAME"/>
                                <Cell col="4" text="bind:CREATEDTIME" displaytype="date" calendareditformat="yyyy-MM-dd HH:mm:ss" calendardateformat="yyyy-MM-dd HH:mm:ss"/>
                                <Cell col="5" text="bind:MODIFIERNAME"/>
                                <Cell col="6" text="bind:MODIFIEDTIME" displaytype="date" calendareditformat="yyyy-MM-dd HH:mm:ss" calendardateformat="yyyy-MM-dd HH:mm:ss"/>
                              </Band>
                            </Format>
                          </Formats>
                        </Grid>
                        <Static id="sta_subTitle01" taborder="4" text="검사종류" left="0" cssclass="sta_WF_subTitle" usedecorate="true" padding="5px 0px 0px" fittocontents="width" tooltiptext="INSPECTIONCLASS" width="66" bottom="grd_inspectionsegmentrelLList:0" height="34"/>
                        <Grid id="grd_processsegmentclassLList" taborder="0" left="0" top="34" bottom="sta_subTitle01:0" autosizingtype="none" autofittype="col" autoenter="select" binddataset="ds_processsegmentclassLList" right="grd_processsegmentclassMList:10">
                          <Formats>
                            <Format id="default">
                              <Columns>
                                <Column size="80"/>
                                <Column size="200"/>
                              </Columns>
                              <Rows>
                                <Row size="24" band="head"/>
                                <Row size="24"/>
                              </Rows>
                              <Band id="head">
                                <Cell tooltiptext="PROCESSSEGMENT" text="공정"/>
                                <Cell col="1" tooltiptext="PROCESSSEGMENTNAME" text="공정명"/>
                              </Band>
                              <Band id="body">
                                <Cell text="bind:PROCESSSEGMENTCLASSID"/>
                                <Cell col="1" text="bind:PROCESSSEGMENTCLASSNAME" textAlign="left"/>
                              </Band>
                            </Format>
                          </Formats>
                        </Grid>
                        <Static id="sta_subTitle02" taborder="9" text="중공정" left="33.54%" top="0" height="34" cssclass="sta_WF_subTitle" usedecorate="true" padding="5px 0px 0px" fittocontents="width" tooltiptext="MIDDLEPROCESSSEGMENT" width="273"/>
                        <Button id="btn_xlDn_grd_qcsegmentList" taborder="2" cssclass="btn_WF_grdExcelDown" tooltiptext="GridExport" initvalueid="x" height="24" top="6" right="sta_subTitle02:10" width="29"/>
                        <Button id="btn_xlDn_grd_inspectionsegmentrelLList" taborder="5" cssclass="btn_WF_grdExcelDown" tooltiptext="GridExport" initvalueid="x" height="24" bottom="grd_inspectionsegmentrelLList:3" width="29" right="sta_subTitle03:10"/>
                        <Button id="btn_xlDn_grd_inspectionsegmentrelMList" taborder="6" cssclass="btn_WF_grdExcelDown" tooltiptext="GridExport" initvalueid="x" width="29" right="sta_subTitle05:10" bottom="grd_inspectionsegmentrelMList:3" height="24"/>
                        <Static id="sta_subTitle04" taborder="13" text="표준공정" left="67.19%" top="0" height="34" cssclass="sta_WF_subTitle" usedecorate="true" padding="5px 0px 0px" fittocontents="width" tooltiptext="STANDARDSEGMENT" width="273"/>
                        <Button id="btn_xlDn_grd_processsegmentclassMList" taborder="8" cssclass="btn_WF_grdExcelDown" tooltiptext="GridExport" initvalueid="x" height="24" top="6" width="29" right="sta_subTitle04:10"/>
                        <Button id="btn_xlDn_grd_processsegmentclassList" taborder="12" cssclass="btn_WF_grdExcelDown" tooltiptext="GridExport" initvalueid="x" height="24" width="29" top="6" right="0"/>
                        <Button id="btn_xlDn_grd_inspectionsegmentrelList" taborder="14" cssclass="btn_WF_grdExcelDown" tooltiptext="GridExport" initvalueid="x" width="29" height="24" right="0" bottom="grd_inspectionsegmentrelList:3"/>
                      </Layout>
                    </Layouts>
                  </Tabpage>
                </Tabpages>
              </Tab>
              <Button id="btn_xlDn_grd_basMasterdataclass" taborder="2" top="33" width="29" cssclass="btn_WF_grdExcelDown" tooltiptext="GridExport" right="0" initvalueid="x" bottom="tab:0"/>
            </Layout>
          </Layouts>
        </Div>
        <Div id="div_header" taborder="3" left="0" top="0" height="47" right="0" formscrolltype="both">
          <Layouts>
            <Layout>
              <Static id="Static01" taborder="8" left="0" top="0" cssclass="sta_WF_titleBG" right="0" bottom="0"/>
              <Button id="btn_reset" taborder="0" top="16" width="26" height="24" cssclass="btn_com_reset" right="3" tooltiptext="Toolbar_Initialization" text="" initvalueid="x"/>
              <Button id="btn_help" taborder="1" top="16" width="26" height="24" cssclass="btn_com_help" right="29" tooltiptext="MANUAL" initvalueid="x"/>
              <Button id="btn_save" taborder="3" top="16" width="26" height="24" cssclass="btn_com_save" right="55" tooltiptext="Toolbar_Save" initvalueid="x" onclick="fn_save"/>
              <Static id="sta_title" taborder="5" left="30" top="16" width="110" height="24" cssclass="sta_WF_title" fittocontents="width" expr="nexacro.getApplication().gds_menu.lookup(&quot;PGM_ID&quot;,comp.parent.parent.parent.name,&quot;MENU_NM&quot;)" tooltiptext="MENU_PG-SD-0451"/>
              <Button id="btn_favorite" taborder="4" left="sta_title:10" top="16" width="24" height="24" cssclass="btn_WF_favorite"/>
              <Button id="btn_searchOpen" taborder="6" left="0" top="16" width="30" height="24" cssclass="btn_WF_searchOpen" onclick="nfn_searchOpen_onclick"/>
              <Static id="Static16" taborder="7" left="47" top="0" width="60" height="20" cssclass="guideTip" visible="false" text="h20"/>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static12_00_00_00_00_00" taborder="4" text="w&#13;&#10;10" width="10" top="138" visible="false" height="27" cssclass="guideTip" left="161"/>
        <Static id="Static12_00_00_00_01_00_00" taborder="5" text="h20" width="45" top="112" visible="false" height="20" cssclass="guideTip" right="1061"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_search">
        <ColumnInfo>
          <Column id="ENTERPRISEID" type="STRING" size="256"/>
          <Column id="VALIDSTATE" type="STRING" size="256"/>
          <Column id="DEFECTCODE" type="STRING" size="256"/>
          <Column id="QCSEGMENTID" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row/>
        </Rows>
      </Dataset>
      <Dataset id="ds_inspectionclassList" useclientlayout="true">
        <ColumnInfo>
          <Column id="INSPECTIONCLASSID" type="STRING" size="256"/>
          <Column id="INSPECTIONCLASSNAME" type="STRING" size="256"/>
          <Column id="INSPECTIONCLASSNAME_KR" type="STRING" size="256"/>
          <Column id="INSPECTIONCLASSNAME_US" type="STRING" size="256"/>
          <Column id="INSPECTIONCLASSNAME_CN" type="STRING" size="256"/>
          <Column id="INSPECTIONCLASSNAME_VN" type="STRING" size="256"/>
          <Column id="INSPECTIONCLASSTYPE" type="STRING" size="256"/>
          <Column id="INSPECTIONRESOURCETYPE" type="STRING" size="256"/>
          <Column id="ISUSEITEM" type="STRING" size="256"/>
          <Column id="DESCRIPTION" type="STRING" size="256"/>
          <Column id="VALIDSTATE" type="STRING" size="256"/>
          <Column id="CREATORNAME" type="STRING" size="256"/>
          <Column id="CREATEDTIME" type="STRING" size="256"/>
          <Column id="MODIFIERNAME" type="STRING" size="256"/>
          <Column id="MODIFIEDTIME" type="STRING" size="256"/>
          <Column id="CREATOR" type="STRING" size="256"/>
          <Column id="MODIFIER" type="STRING" size="256"/>
          <Column id="ENTERPRISEID" type="STRING" size="256"/>
          <Column id="PLANTID" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_processsegmentclassLList" useclientlayout="true" canrowposchange="ds_processsegmentclassLList_canrowposchange">
        <ColumnInfo>
          <Column id="PROCESSSEGMENTCLASSID" type="STRING" size="256"/>
          <Column id="PROCESSSEGMENTCLASSNAME" type="STRING" size="256"/>
          <Column id="PARENTPROCESSSEGMENTCLASSID" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_inspectionsegmentrelLList" useclientlayout="true" oncolumnchanged="ds_inspectionsegmentrelLList_oncolumnchanged">
        <ColumnInfo>
          <Column id="INSPECTIONCLASSNAME" type="STRING" size="256"/>
          <Column id="ISREQUIRED" type="STRING" size="256"/>
          <Column id="VALIDSTATE" type="STRING" size="256"/>
          <Column id="CREATEDTIME" type="STRING" size="256"/>
          <Column id="CREATORNAME" type="STRING" size="256"/>
          <Column id="MODIFIEDTIME" type="STRING" size="256"/>
          <Column id="MODIFIERNAME" type="STRING" size="256"/>
          <Column id="INSPECTIONCLASSID" type="STRING" size="256"/>
          <Column id="ENTERPRISEID" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_processsegmentclassMList" useclientlayout="true" canrowposchange="ds_processsegmentclassMList_canrowposchange">
        <ColumnInfo>
          <Column id="PROCESSSEGMENTCLASSID" type="STRING" size="256"/>
          <Column id="PROCESSSEGMENTCLASSNAME" type="STRING" size="256"/>
          <Column id="PARENTPROCESSSEGMENTCLASSID" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_inspectionsegmentrelMList" useclientlayout="true" oncolumnchanged="ds_inspectionsegmentrelMList_oncolumnchanged">
        <ColumnInfo>
          <Column id="INSPECTIONCLASSNAME" type="STRING" size="256"/>
          <Column id="ISREQUIRED" type="STRING" size="256"/>
          <Column id="VALIDSTATE" type="STRING" size="256"/>
          <Column id="CREATEDTIME" type="STRING" size="256"/>
          <Column id="CREATORNAME" type="STRING" size="256"/>
          <Column id="MODIFIEDTIME" type="STRING" size="256"/>
          <Column id="MODIFIERNAME" type="STRING" size="256"/>
          <Column id="INSPECTIONCLASSID" type="STRING" size="256"/>
          <Column id="ENTERPRISEID" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_processsegmentclassList" useclientlayout="true" canrowposchange="ds_processsegmentclassList_canrowposchange">
        <ColumnInfo>
          <Column id="PROCESSSEGMENTID" type="STRING" size="256"/>
          <Column id="ENTERPRISEID" type="STRING" size="256"/>
          <Column id="PLANTID" type="STRING" size="256"/>
          <Column id="PROCESSSEGMENTNAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_inspectionsegmentrelList" useclientlayout="true" oncolumnchanged="ds_inspectionsegmentrelList_oncolumnchanged">
        <ColumnInfo>
          <Column id="INSPECTIONCLASSNAME" type="STRING" size="256"/>
          <Column id="ISREQUIRED" type="STRING" size="256"/>
          <Column id="VALIDSTATE" type="STRING" size="256"/>
          <Column id="CREATEDTIME" type="STRING" size="256"/>
          <Column id="CREATORNAME" type="STRING" size="256"/>
          <Column id="MODIFIEDTIME" type="STRING" size="256"/>
          <Column id="MODIFIERNAME" type="STRING" size="256"/>
          <Column id="INSPECTIONCLASSID" type="STRING" size="256"/>
          <Column id="ENTERPRISEID" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Script type="xscript5.1"><![CDATA[/***************************************************************************************
 * 시스템명       : IFC MES시스템
 * 업무명         : 기준관리>>품질기준정보>>검사종류관리
 * 파일명         : BAS04100M.xfdl
 * 작성자         : yanghee.kim
 * 작성일         : 2021.03.09
 *
 * 설  명         : 검사정의 등록/수정
 *                  공정별 검사종류 등록/수정
 *---------------------------------------------------------------------------------------
 * 변경일        변경자      변경내역
 *---------------------------------------------------------------------------------------
 * 2021.03.09   yanghee.kim   최초작성
 *---------------------------------------------------------------------------------------
 ****************************************************************************************/

/**************************************************************************
 * 1. 필수 include
 ***************************************************************************/
include "lib::lib_bas.xjs";    //기준관리 공통 라이브러리 include

/**************************************************************************
 * 2. FORM 변수 선언 영역
 ***************************************************************************/
this.enterpriseid = "";
this.g_positionL;//저장 후 위치고정을 위한 전역변수(대공정)
this.g_positionM;//저장 후 위치고정을 위한 전역변수(중공정)
this.g_positionS;//저장 후 위치고정을 위한 전역변수(공정)
this.g_positionL1;//저장 후 위치고정을 위한 전역변수(대공정 검사종류)
this.g_positionM1;//저장 후 위치고정을 위한 전역변수(중공정 검사종류)
this.g_positionS1;//저장 후 위치고정을 위한 전역변수(공정 검사종류)

/**************************************************************************
 * 3. FORM LOAD
 ***************************************************************************/
this.fn_init = function (obj:Form, e:nexacro.LoadEventInfo)
{
    this.nfn_formInit(obj);
    this.enterpriseid = this.gf_getEnterpriseId();
	this.fn_formInit();    //최초 호출되는 초기화 함수
};

/**************************************************************************
 * 4. 공통버튼영역 (함수 삭제금지!!!!)
 ***************************************************************************/
this.fn_save = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
    var tabIdx = this.div_work.form.tab.tabindex;
    switch (tabIdx)
    {
        case 0:
            this.fn_saveInspectionclass();        //탭1 검사 정의 저장
        break;
        case 1:
            this.fn_saveInspectionsegmentrel();  //탭2 검사 통제 저장
        break;
    }
};

/*
 * 기능 : 검색
 */
this.fn_search = function (obj:Button, e:nexacro.ClickEventInfo)
{
    var tabIdx = this.div_work.form.tab.tabindex;
    switch (tabIdx)
    {
        case 0:
            this.fn_searchInspectionclassList();   //탭1 검사 정의 조회
        break;
        case 1:
            this.fn_searchProcesssegmentclassLList();  //탭2 검사 통제 - 대공정 조회
        break;
    }
};

/**************************************************************************
 * 5. TRANSACTION, CALLBACK 영역
 ***************************************************************************/
this.fn_callBack = function (trId, errCD, errMsg)
{
    if (errCD < 0)
    {
        this.gfn_Message("ProcessingError", trId + errMsg, "error", "ok");
    }
    else
    {
        if (trId == "selectInspectionclassList")
        {
        }
        else if (trId == "selectProcesssegmentclassLList")
        {
            if (this.ds_processsegmentclassLList.rowcount > 0)
            {
                this.ds_processsegmentclassLList.set_rowposition(-1);

                if (!this.nfn_isNull(this.g_positionL))
                {
                    this.fn_findRowSetPosition(this.ds_processsegmentclassLList, "PROCESSSEGMENTCLASSID", "g_positionL");
                }
                else
                {
                    this.ds_processsegmentclassLList.set_rowposition(0);
                }
            }
            else
            {
                this.ds_processsegmentclassLList.set_rowposition(-1);
            }
        }
        else if (trId == "selectProcesssegmentclassMList")
        {
            if (this.ds_processsegmentclassMList.rowcount > 0)
            {
                this.ds_processsegmentclassMList.set_rowposition(-1);

                if (!this.nfn_isNull(this.g_positionM))
                {
                    this.fn_findRowSetPosition(this.ds_processsegmentclassMList, "PROCESSSEGMENTCLASSID", "g_positionM");
                }
                else
                {
                    this.ds_processsegmentclassMList.set_rowposition(0);
                }
            }
            else
            {
                this.ds_processsegmentclassMList.set_rowposition(-1);
            }
        }
        else if (trId == "selectProcesssegmentclassList")
        {
            if (this.ds_processsegmentclassList.rowcount > 0)
            {
                this.ds_processsegmentclassList.set_rowposition(-1);

                if (!this.nfn_isNull(this.g_positionS))
                {
                    this.fn_findRowSetPosition(this.ds_processsegmentclassList, "PROCESSSEGMENTID", "g_positionS");
                }
                else
                {
                    this.ds_processsegmentclassList.set_rowposition(0);
                }
            }
        }
        else if (trId == "selectProcessInspectionclassLList")
        {
            if (this.ds_inspectionsegmentrelLList.rowcount > 0)
            {
                if (!this.nfn_isNull(this.g_positionL1))
                {
                    this.fn_findRowSetPosition(this.ds_inspectionsegmentrelLList, "INSPECTIONCLASSID", "g_positionL1");
                }
            }
        }
        else if (trId == "selectProcessInspectionclassMList")
        {
            if (this.ds_inspectionsegmentrelMList.rowcount > 0)
            {
                if (!this.nfn_isNull(this.g_positionM1))
                {
                    this.fn_findRowSetPosition(this.ds_inspectionsegmentrelMList, "INSPECTIONCLASSID", "g_positionM1");
                }
            }
        }
        else if (trId == "selectProcessInspectionclassList")
        {
            if (this.ds_inspectionsegmentrelList.rowcount > 0)
            {
                if (!this.nfn_isNull(this.g_positionS1))
                {
                    this.fn_findRowSetPosition(this.ds_inspectionsegmentrelList, "INSPECTIONCLASSID", "g_positionS1");
                }
            }
        }
        else if (trId == "saveInspectionclass")
        {
            this.gfn_Message("SuccessSave", null, "info", "ok");
            this.fn_searchInspectionclassList();
        }
        else if (trId == "saveInspectionsegmentrel")
        {
            this.gfn_Message("SuccessSave", null, "info", "ok");
            this.fn_searchInspectionsegmentrelLList(this.ds_processsegmentclassLList.rowposition);
            this.fn_searchInspectionsegmentrelMList(this.ds_processsegmentclassMList.rowposition);
            this.fn_searchInspectionsegmentrelList(this.ds_processsegmentclassList.rowposition);
        }
    }
};

/**************************************************************************
 * 6. 팝업 호출/콜백
 **************************************************************************/
 this.fn_openPop = function(svcId, popId)
{
    // gfn_openPopup(arg_type, popupCd, popupNm, rtnCols, paramCols, paramValues, searchStr);
    //-----------------
    // arg_type    : A::사용자가 선택, B:: 한건존재시 자동 셋팅
    // popupCd     : 공통팝업 관리 화면에서 생성되는 팝업코드
    // popupNm     : 변경할팝업화면명 , 변경하지 않을 경우 팝업화면 타이틀은 관리화면의 타이틀로 지정됨
    // rtnCols     : 구분자 : "|"   : 그리드에 출력될 컬럼 지정 (않을 경우 관리화면의 그리드로 출력됨)
    // paramCols   : 구분자 : "|" : where 구문에 들어갈 컬럼
    // paramValues : 구분자 : "|"  : where 구문에 들어갈 컬럼에 대한 값
    // searchStr   : 팝업 조회조건 콤보값 = 조회 값

    var popupId = svcId;
    var oArg = {};
    var opts = "width=850,height=500";

    oArg.arg_type = "B";
    oArg.arg_popupCd = popId;
    oArg.arg_popupNm = "";
    oArg.arg_paramCols = "";
    oArg.arg_paramValues = "";
    oArg.arg_searchStr = "";

    this.gfn_openPopup(popupId,"cmd::CMSA00100P.xfdl",oArg,opts);
};

//팝업 결과 리턴
this.fn_popupAfter = function(sPopupId, Variant)
{
    var rtn = this.fv_rtnValue;
    if (this.nfn_isNull(rtn)) return;
};

/**************************************************************************
 * 7. 기타 함수(화면 로컬 정의)
 **************************************************************************/
/*
 * 기능 : 최초 호출되는 초기화 함수
 */
this.fn_formInit = function ()
{
    this.tab_search.Tabpage1.form.cbo_validState.set_value("Valid");
};

/*
 * 기능 : 조회조건 초기화
 */
this.fn_searchClear = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.fn_formInit();	
};

/*
 * 기능 : 탭1. 검사 정의 조회
 */
this.fn_searchInspectionclassList = function ()
{
    this.ds_inspectionclassList.clearData();

    var validState = this.tab_search.Tabpage1.form.cbo_validState.value;

    var sSvcID        = "selectInspectionclassList";
    var sController   = "/bas04100/selectInspectionclassList.do";
    var sInDatasets   = "";
    var sOutDatasets  = "ds_inspectionclassList=output";
    var sArgs         = "";
        sArgs        += this.gfn_setParam("ENTERPRISEID", this.enterpriseid);
        sArgs        += this.gfn_setParam("VALIDSTATE", validState);
    this.gfn_transaction(sSvcID, sController, sInDatasets, sOutDatasets, sArgs);
};

/*
 * 기능 : 탭1. 검사 정의 저장
 */
this.fn_saveInspectionclass = function()
{
    if (!this.gfn_dsIsUpdated(this.ds_inspectionclassList))
    {
        this.gfn_Message("NoSaveData", null, "warning", "ok");
        return;
    }

    //검사 정의 그리드 필수값 체크
    var component = this.div_work.form.tab.Tabpage1.form.grd_inspectionclassList;
    var strColIdList = "INSPECTIONCLASSNAME_KR,INSPECTIONCLASSNAME_US,INSPECTIONCLASSNAME_CN,INSPECTIONCLASSNAME_VN,VALIDSTATE";
    var rtn = this.nfn_MandatoryCheckGrid(component, strColIdList);
    if (rtn == false) return;

    // -------------------------
    // 저장
    // ':U' 는 갱신된 내용만을 입력 데이터세트로 보내며, ':A' 는 모든 정보를 보냅니다.
    // ':N' 은 현재 Delete를 제외한 데이터를 Normal 상태로 보냅니다. 지정하지 않는 데이터세트는 Normal로 동작합니다
    // -------------------------
    var sSvcID        = "saveInspectionclass";
    var sController   = "/bas04100/saveInspectionclass.do";
    var sInDatasets   = "INPUT=ds_inspectionclassList:U";
    var sOutDatasets  = "";
    var sArgs         = "";
    this.gfn_transaction(sSvcID, sController, sInDatasets, sOutDatasets, sArgs);
};

/*
 * 기능 : 탭2. 검사 통제 - 대공정 조회
 */
this.fn_searchProcesssegmentclassLList = function ()
{
    //검색시에는 하위 데이터셋도 초기화
    this.ds_processsegmentclassLList.clearData();
    this.ds_processsegmentclassMList.clearData();
    this.ds_processsegmentclassList.clearData();
    this.ds_inspectionsegmentrelLList.clearData();
    this.ds_inspectionsegmentrelMList.clearData();
    this.ds_inspectionsegmentrelList.clearData();

    var validState = this.tab_search.Tabpage1.form.cbo_validState.value;

    var sSvcID        = "selectProcesssegmentclassLList";
    var sController   = "/bas04100/selectProcesssegmentclassLList.do";
    var sInDatasets   = "";
    var sOutDatasets  = "ds_processsegmentclassLList=output";
    var sArgs         = "";
        sArgs        += this.gfn_setParam("ENTERPRISEID", this.enterpriseid);
        sArgs        += this.gfn_setParam("VALIDSTATE", validState);
    this.gfn_transaction(sSvcID, sController, sInDatasets, sOutDatasets, sArgs);
};

/*
 * 기능 : 탭2. 검사 통제 - 중공정 조회
 */
this.fn_searchProcesssegmentclassMList = function (pRow)
{
    this.ds_processsegmentclassMList.clearData();

    if (pRow < 0) return false;

    var processsgementclassid = this.ds_processsegmentclassLList.getColumn(pRow, "PROCESSSEGMENTCLASSID");
    var validState = this.tab_search.Tabpage1.form.cbo_validState.value;

    var sSvcID        = "selectProcesssegmentclassMList";
    var sController   = "/bas04100/selectProcesssegmentclassMList.do";
    var sInDatasets   = "";
    var sOutDatasets  = "ds_processsegmentclassMList=output";
    var sArgs         = "";
        sArgs        += this.gfn_setParam("ENTERPRISEID", this.enterpriseid);
        sArgs        += this.gfn_setParam("VALIDSTATE", validState);
        sArgs        += this.gfn_setParam("PARENTPROCESSSEGMENTCLASSID", processsgementclassid);
    this.gfn_transaction(sSvcID, sController, sInDatasets, sOutDatasets, sArgs);
};

/*
 * 기능 : 탭2. 검사 통제 - 공정 조회
 */
this.fn_searchProcesssegmentclassList = function (pRow)
{
    this.ds_processsegmentclassList.clearData();

    if (pRow < 0) return false;

    var processsgementclassid = this.ds_processsegmentclassMList.getColumn(pRow, "PROCESSSEGMENTCLASSID");
    var validState = this.tab_search.Tabpage1.form.cbo_validState.value;

    var sSvcID        = "selectProcesssegmentclassList";
    var sController   = "/bas04100/selectProcesssegmentclassList.do";
    var sInDatasets   = "";
    var sOutDatasets  = "ds_processsegmentclassList=output";
    var sArgs         = "";
        sArgs        += this.gfn_setParam("ENTERPRISEID", this.enterpriseid);
        sArgs        += this.gfn_setParam("VALIDSTATE", validState);
        sArgs        += this.gfn_setParam("PROCESSSEGMENTCLASSID", processsgementclassid);
    this.gfn_transaction(sSvcID, sController, sInDatasets, sOutDatasets, sArgs);
};

/*
 * 기능 : 탭2. 검사 통제 - 대공정 검사종류 조회
 */
this.fn_searchInspectionsegmentrelLList = function (pRow)
{
    this.ds_inspectionsegmentrelLList.clearData();

    if (pRow < 0) return false;

    var processsegmentid = this.ds_processsegmentclassLList.getColumn(pRow, "PROCESSSEGMENTCLASSID");
    var validState = this.tab_search.Tabpage1.form.cbo_validState.value;

    var sSvcID        = "selectProcessInspectionclassLList";
    var sController   = "/bas04100/selectProcessInspectionclassList.do";
    var sInDatasets   = "";
    var sOutDatasets  = "ds_inspectionsegmentrelLList=output";
    var sArgs         = "";
        sArgs        += this.gfn_setParam("ENTERPRISEID", this.enterpriseid);
        sArgs        += this.gfn_setParam("VALIDSTATE", validState);
        sArgs        += this.gfn_setParam("PROCESSSEGMENTID", processsegmentid);
    this.gfn_transaction(sSvcID, sController, sInDatasets, sOutDatasets, sArgs);
};

/*
 * 기능 : 탭2. 검사 통제 - 중공정 검사종류 조회
 */
this.fn_searchInspectionsegmentrelMList = function (pRow)
{
    this.ds_inspectionsegmentrelMList.clearData();

    if (pRow < 0) return false;

    var processsegmentid = this.ds_processsegmentclassMList.getColumn(pRow, "PROCESSSEGMENTCLASSID");
    var validState = this.tab_search.Tabpage1.form.cbo_validState.value;

    var sSvcID        = "selectProcessInspectionclassMList";
    var sController   = "/bas04100/selectProcessInspectionclassList.do";
    var sInDatasets   = "";
    var sOutDatasets  = "ds_inspectionsegmentrelMList=output";
    var sArgs         = "";
        sArgs        += this.gfn_setParam("ENTERPRISEID", this.enterpriseid);
        sArgs        += this.gfn_setParam("VALIDSTATE", validState);
        sArgs        += this.gfn_setParam("PROCESSSEGMENTID", processsegmentid);
    this.gfn_transaction(sSvcID, sController, sInDatasets, sOutDatasets, sArgs);
};

/*
 * 기능 : 탭2. 검사 통제 - 공정 검사종류 조회
 */
this.fn_searchInspectionsegmentrelList = function (pRow)
{
    this.ds_inspectionsegmentrelList.clearData();

    if (pRow < 0) return false;

    var processsegmentid =  this.ds_processsegmentclassList.getColumn(pRow, "PROCESSSEGMENTID");
    var validState = this.tab_search.Tabpage1.form.cbo_validState.value;

    var sSvcID        = "selectProcessInspectionclassList";
    var sController   = "/bas04100/selectProcessInspectionclassList.do";
    var sInDatasets   = "";
    var sOutDatasets  = "ds_inspectionsegmentrelList=output";
    var sArgs         = "";
        sArgs        += this.gfn_setParam("ENTERPRISEID", this.enterpriseid);
        sArgs        += this.gfn_setParam("VALIDSTATE", validState);
        sArgs        += this.gfn_setParam("PROCESSSEGMENTID", processsegmentid);
    this.gfn_transaction(sSvcID, sController, sInDatasets, sOutDatasets, sArgs);
};

/*
 * 기능 : 탭2. 검사 통제 - 검사종류 저장
 */
this.fn_saveInspectionsegmentrel = function()
{
    if (   !this.gfn_dsIsUpdated(this.ds_inspectionsegmentrelLList)
        && !this.gfn_dsIsUpdated(this.ds_inspectionsegmentrelMList)
        && !this.gfn_dsIsUpdated(this.ds_inspectionsegmentrelList) )
    {
        this.gfn_Message("NoSaveData", null, "warning", "ok");
        return;
    }

    //검사종류 저장시 상위 공정정보 Setting
    this.fn_datasetColAdd("L", this.ds_inspectionsegmentrelLList); //대공정-검사종류
    this.fn_datasetColAdd("M", this.ds_inspectionsegmentrelMList); //중공정-검사종류
    this.fn_datasetColAdd("S", this.ds_inspectionsegmentrelList); //공정-검사종류

    this.g_positionL = this.ds_processsegmentclassLList.getColumn(this.ds_processsegmentclassLList.rowposition, "PROCESSSEGMENTCLASSID");
    this.g_positionM = this.ds_processsegmentclassMList.getColumn(this.ds_processsegmentclassMList.rowposition, "PROCESSSEGMENTCLASSID");
    this.g_positionS = this.ds_processsegmentclassList.getColumn(this.ds_processsegmentclassList.rowposition, "PROCESSSEGMENTID");
    this.g_positionL1 = this.ds_inspectionsegmentrelLList.getColumn(this.ds_inspectionsegmentrelLList.rowposition, "INSPECTIONCLASSID");
    this.g_positionM1 = this.ds_inspectionsegmentrelMList.getColumn(this.ds_inspectionsegmentrelMList.rowposition, "INSPECTIONCLASSID");
    this.g_positionS1 = this.ds_inspectionsegmentrelList.getColumn(this.ds_inspectionsegmentrelList.rowposition, "INSPECTIONCLASSID");

    // -------------------------
    // 저장
    // ':U' 는 갱신된 내용만을 입력 데이터세트로 보내며, ':A' 는 모든 정보를 보냅니다.
    // ':N' 은 현재 Delete를 제외한 데이터를 Normal 상태로 보냅니다. 지정하지 않는 데이터세트는 Normal로 동작합니다
    // -------------------------
    var sSvcID        = "saveInspectionsegmentrel";
    var sController   = "/bas04100/saveInspectionsegmentrel.do";
    var sInDatasets   = "INPUT11=ds_inspectionsegmentrelLList:U INPUT22=ds_inspectionsegmentrelMList:U INPUT33=ds_inspectionsegmentrelList:U";
    var sOutDatasets  = "";
    var sArgs         = "";
    this.gfn_transaction(sSvcID, sController, sInDatasets, sOutDatasets, sArgs);
};

/*
 * 기능 : 검사종류 저장시 부가정보 Setting
 */
this.fn_datasetColAdd = function(pJobFlag, pDataset)
{
    for(var i=0; i < pDataset.getRowCount(); i++)
    {
        if (pDataset.getRowType(i) == 2 || pDataset.getRowType(i) == 4)
        {
            var processsegmentid = "";

            pDataset.addColumn("PROCESSSEGMENTID", "string");
            pDataset.addColumn("PROCESSSEGMENTTYPE", "string");
            pDataset.addColumn("PROCESSSEGMENTVERSION", "string");

            if (pJobFlag == "L")
            {
                processsegmentid = this.ds_processsegmentclassLList.getColumn(this.ds_processsegmentclassLList.rowposition, "PROCESSSEGMENTCLASSID");
                pDataset.setColumn(i, "PROCESSSEGMENTID", processsegmentid);
                pDataset.setColumn(i, "PROCESSSEGMENTTYPE", "TopProcessSegmentClass");
            }
            else if (pJobFlag == "M")
            {
                processsegmentid = this.ds_processsegmentclassMList.getColumn(this.ds_processsegmentclassMList.rowposition, "PROCESSSEGMENTCLASSID");
                pDataset.setColumn(i, "PROCESSSEGMENTID", processsegmentid);
                pDataset.setColumn(i, "PROCESSSEGMENTTYPE", "MiddleProcessSegmentClass");
            }
            else if (pJobFlag == "S")
            {
                processsegmentid = this.ds_processsegmentclassList.getColumn(this.ds_processsegmentclassList.rowposition, "PROCESSSEGMENTID");
                pDataset.setColumn(i, "PROCESSSEGMENTID", processsegmentid);
                pDataset.setColumn(i, "PROCESSSEGMENTTYPE", "ProcessSegmentID");
            }

            pDataset.setColumn(i, "PROCESSSEGMENTVERSION", "*");
        }//end if
    } //end for
};

/*
 * 기능 : 조건표현식을 만족하는 첫번째 Row index 리턴
 */
this.fn_findRowIndex = function (pDataset, pColumId, pStr)
{
    var nRow = pDataset.findRowExpr(pColumId + "== '" + pStr + "'") ;
    var idx = 0;

    if (nRow > -1)
    {
        idx = nRow;
    }

    return idx;
};

/*
 * 기능 : 조건표현식을 만족하는 첫번째 Row를 선택
 */
this.fn_findRowSetPosition = function (pDataset, pColumId, pVariable)
{
    var findStr = eval("this."+pVariable);
    var nRow = pDataset.findRowExpr(pColumId + "== '" + findStr + "'") ;

    if (nRow == -1)
    {
        pDataset.set_rowposition(0);
    }
    else
    {
        pDataset.set_rowposition(nRow);
    }

    var variableInitial = "this."+pVariable+"="+null;
    eval(variableInitial);
};

/**************************************************************************
 * 8. 이벤트
 ***************************************************************************/
 /*
 * 이벤트 : 탭 클릭시
 */
this.div_work_tab_onchanged = function(obj:nexacro.Tab,e:nexacro.TabIndexChangeEventInfo)
{
};

/*
 * 이벤트 : 검사 통제 - 대공정 클릭시
 */
this.ds_processsegmentclassLList_canrowposchange = function(obj:nexacro.NormalDataset,e:nexacro.DSRowPosChangeEventInfo)
{
    if (e.newrow < 0) return;
    
    var bOk = true;
    if (this.gfn_dsIsUpdated(this.ds_inspectionsegmentrelLList)
       || this.gfn_dsIsUpdated(this.ds_inspectionsegmentrelMList)
       || this.gfn_dsIsUpdated(this.ds_inspectionsegmentrelList)) {
        bOk = this.gfn_Message("WRITTENBEDELETE", null, "conf", "yesno");
    }

    if (bOk)
    {
        this.ds_processsegmentclassList.clearData();
        this.ds_inspectionsegmentrelMList.clearData();
        this.ds_inspectionsegmentrelList.clearData();

        this.fn_searchInspectionsegmentrelLList(e.newrow);
        this.fn_searchProcesssegmentclassMList(e.newrow);
    }
    else
    {
        return false;
    }
};

/*
 * 이벤트 : 검사 통제 - 중공정 클릭시
 */
this.ds_processsegmentclassMList_canrowposchange = function(obj:nexacro.NormalDataset,e:nexacro.DSRowPosChangeEventInfo)
{
    if (e.newrow < 0) return;

    var bOk = true;
    if (this.gfn_dsIsUpdated(this.ds_inspectionsegmentrelMList)
       || this.gfn_dsIsUpdated(this.ds_inspectionsegmentrelList)) {
        bOk = this.gfn_Message("WRITTENBEDELETE", null, "conf", "yesno");
    }

    if (bOk)
    {
        this.ds_inspectionsegmentrelList.clearData();

        this.fn_searchInspectionsegmentrelMList(e.newrow)
        this.fn_searchProcesssegmentclassList(e.newrow);
    }
    else
    {
        return false;
    }
};

/*
 * 이벤트 : 검사 통제 - 공정 클릭시
 */
this.ds_processsegmentclassList_canrowposchange = function(obj:nexacro.NormalDataset,e:nexacro.DSRowPosChangeEventInfo)
{
    if (e.newrow < 0) return;

    var bOk = true;
    if (this.gfn_dsIsUpdated(this.ds_inspectionsegmentrelList)) {
        bOk = this.gfn_Message("WRITTENBEDELETE", null, "conf", "yesno");
    }

    if (bOk){
        this.fn_searchInspectionsegmentrelList(e.newrow)
    } else {
        return false;
    }
};

/*
 * 이벤트 : 대공정-검사종류 Grid 에 표시되었던 Combo 아이템 리스트 또는 팝업달력이 닫힐 때 발생하는 이벤트입니다.
 */
this.div_work_tab_Tabpage2_grd_inspectionsegmentrelLList_oncloseup = function(obj:nexacro.Grid,e:nexacro.GridEditEventInfo)
{
	this.div_work.form.tab.Tabpage2.form.grd_inspectionsegmentrelLList.updateToDataset();
};

/*
 * 이벤트 : 중공정-검사종류 Grid 에 표시되었던 Combo 아이템 리스트 또는 팝업달력이 닫힐 때 발생하는 이벤트입니다.
 */
this.div_work_tab_Tabpage2_grd_inspectionsegmentrelMList_oncloseup = function(obj:nexacro.Grid,e:nexacro.GridEditEventInfo)
{
	this.div_work.form.tab.Tabpage2.form.grd_inspectionsegmentrelMList.updateToDataset();
};

/*
 * 이벤트 : 공정-검사종류 Grid 에 표시되었던 Combo 아이템 리스트 또는 팝업달력이 닫힐 때 발생하는 이벤트입니다.
 */
this.div_work_tab_Tabpage2_grd_inspectionsegmentrelList_oncloseup = function(obj:nexacro.Grid,e:nexacro.GridEditEventInfo)
{
	this.div_work.form.tab.Tabpage2.form.grd_inspectionsegmentrelList.updateToDataset();
};

/*
 * 이벤트 : 대공정-검사종류 DataSet 의 Column 값이 변경된 후 발생하는 이벤트입니다.
 */
this.ds_inspectionsegmentrelLList_oncolumnchanged = function(obj:nexacro.NormalDataset,e:nexacro.DSColChangeEventInfo)
{
	if (e.columnid == "ISREQUIRED")
	{
		if (this.gfn_isNull(obj.getColumn(e.row, "VALIDSTATE")))
		{
			obj.setColumn(e.row, "VALIDSTATE", "Valid");
		}
	}
};

/*
 * 이벤트 : 중공정-검사종류 DataSet 의 Column 값이 변경된 후 발생하는 이벤트입니다.
 */
this.ds_inspectionsegmentrelMList_oncolumnchanged = function(obj:nexacro.NormalDataset,e:nexacro.DSColChangeEventInfo)
{
	if (e.columnid == "ISREQUIRED")
	{
		if (this.gfn_isNull(obj.getColumn(e.row, "VALIDSTATE")))
		{
			obj.setColumn(e.row, "VALIDSTATE", "Valid");
		}
	}
};

/*
 * 이벤트 : 공정-검사종류 DataSet 의 Column 값이 변경된 후 발생하는 이벤트입니다.
 */
this.ds_inspectionsegmentrelList_oncolumnchanged = function(obj:nexacro.NormalDataset,e:nexacro.DSColChangeEventInfo)
{
	if (e.columnid == "ISREQUIRED")
	{
		if (this.gfn_isNull(obj.getColumn(e.row, "VALIDSTATE")))
		{
			obj.setColumn(e.row, "VALIDSTATE", "Valid");
		}
	}
};
]]></Script>
  </Form>
</FDL>
