<?xml version="1.0" encoding="utf-8"?>
<FDL version="2.1">
  <Form id="PCM01900D02" width="1258" height="80" titletext="작업완료" onload="fn_init">
    <Layouts>
      <Layout height="80" width="1258">
        <Static id="sta_comment" taborder="3" text="특이사항" left="5" top="55" width="6.76%" height="20" cssclass="sta_WF_detailLabel2"/>
        <Static id="sta_defectQty" taborder="0" text="불량 수량" left="39.98%" top="30" width="6.76%" height="20" cssclass="sta_WF_detailLabel2"/>
        <Static id="label01" taborder="1" text="작업자" left="5" top="5" width="6.76%" height="20" cssclass="sta_WF_detailLabel2_P"/>
        <Static id="label03" taborder="2" text="UOM" left="5" top="30" width="6.76%" height="20" cssclass="sta_WF_detailLabel2"/>
        <Static id="sta_goodQty" taborder="4" text="양품 수량" left="19.79%" top="30" width="6.76%" height="20" cssclass="sta_WF_detailLabel2_P"/>
        <Static id="sta_transitArea" taborder="14" text="인계작업장" left="19.79%" top="5" width="6.76%" height="20" cssclass="sta_WF_detailLabel2"/>
        <Button id="btn_workerSrh" taborder="5" width="22" height="20" cssclass="btn_WF_finder" top="5" right="sta_transitArea:0" onclick="btn_workerSrh_onclick"/>
        <Edit id="edt_worker" taborder="6" left="label01:5" top="5" height="20" right="btn_workerSrh:0" onkeydown="edt_worker_onkeydown"/>
        <Edit id="edt_comment" taborder="7" left="sta_comment:5" top="55" height="20" right="5"/>
        <Combo id="cbo_unitOfMaterial" taborder="8" text="cmb_00" left="label03:5" top="30" height="20" right="sta_goodQty:0" innerdataset="ds_unitOfMaterial" datacolumn="UOMDEFNAME" codecolumn="UOMDEFID" readonly="true" onitemchanged="cbo_unitOfMaterial_onitemchanged"/>
        <Static id="sta_goodQtyUOM" taborder="9" text="PNL" top="30" width="31" height="20" cssclass="sta_WF_unit" right="sta_defectQty:0"/>
        <Spin id="spn_numGoodPnlQty" taborder="10" left="31.80%" top="30" height="20" right="sta_goodQtyUOM:0" max="-1" min="-1" value=""/>
        <Spin id="spn_numGoodQty" taborder="11" left="sta_goodQty:5" top="30" height="20" right="spn_numGoodPnlQty:3" max="-1" min="-1" value=""/>
        <Static id="sta_printWeek" taborder="16" text="인쇄주차" left="60.73%" top="30" width="6.76%" height="20" cssclass="sta_WF_detailLabel2"/>
        <Static id="sta_defectQtyUOM" taborder="18" text="PNL" top="30" width="31" height="20" cssclass="sta_WF_unit" right="sta_printWeek:0"/>
        <Spin id="spn_numDefectPnlQty" taborder="12" left="52.15%" top="30" height="20" right="sta_defectQtyUOM:0" max="-1" min="-1" value=""/>
        <Spin id="spn_numDefectQty" taborder="13" left="sta_defectQty:5" top="30" height="20" right="spn_numDefectPnlQty:3" max="-1" min="-1" value=""/>
        <Combo id="cbo_transitArea" taborder="15" text="cmb_00" left="sta_transitArea:5" top="5" height="20" right="sta_defectQtyUOM:0" innerdataset="ds_transitAreaList" codecolumn="AREAID" datacolumn="AREANAME" tooltiptext="TRANSITAREA" readonly="true" onitemchanged="cbo_transitArea_onitemchanged"/>
        <Static id="sta_equpmentClass" taborder="21" text="설비그룹" left="80.68%" top="30" width="6.76%" height="20" cssclass="sta_WF_detailLabel2" visible="false"/>
        <Edit id="edt_printWeek" taborder="17" left="sta_printWeek:5" top="30" height="20" right="19.4%" enable="false" readonly="true"/>
        <Static id="sta_equpment" taborder="19" text="설비" left="80.60%" top="5" width="6.76%" height="20" cssclass="sta_WF_detailLabel2" visible="false"/>
        <Combo id="cbo_equpment" taborder="20" text="cmb_00" left="sta_equpment:6" top="5" height="20" right="5" innerdataset="ds_unitOfMaterial" datacolumn="UOMDEFNAME" codecolumn="UOMDEFID" readonly="true" visible="false"/>
        <Combo id="cbo_equpmentClass" taborder="22" text="cmb_00" left="sta_equpmentClass:5" top="30" height="20" right="5" innerdataset="ds_unitOfMaterial" datacolumn="UOMDEFNAME" codecolumn="UOMDEFID" readonly="true" onitemchanged="cbo_equpmentClass_onitemchanged" visible="false"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_unitOfMaterial">
        <ColumnInfo>
          <Column id="UOMDEFID" type="STRING" size="256"/>
          <Column id="UOMDEFNAME" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_areaParam">
        <ColumnInfo>
          <Column id="PLANTID" type="STRING" size="256"/>
          <Column id="LOTID" type="STRING" size="256"/>
          <Column id="LANGUAGETYPE" type="STRING" size="256"/>
          <Column id="VERSION" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_lotParam">
        <ColumnInfo>
          <Column id="No" type="STRING" size="256"/>
          <Column id="ENTERPRISEID" type="STRING" size="256"/>
          <Column id="PLANTID" type="STRING" size="256"/>
          <Column id="LOTID" type="STRING" size="256"/>
          <Column id="VERSION" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_transitAreaList">
        <ColumnInfo>
          <Column id="AREAID" type="STRING" size="256"/>
          <Column id="AREANAME" type="STRING" size="256"/>
          <Column id="RESOURCEAREAID" type="STRING" size="256"/>
          <Column id="RESOURCEAREANAME" type="STRING" size="256"/>
          <Column id="ISPRIMARYRESOURCE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_lotInfo">
        <ColumnInfo>
          <Column id="LOTID" type="STRING" size="256"/>
          <Column id="PLANTID" type="STRING" size="256"/>
          <Column id="PATHTYPE" type="STRING" size="256"/>
          <Column id="PRODUCTDEFTYPE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_result">
        <ColumnInfo>
          <Column id="WORKER" type="STRING" size="256"/>
          <Column id="UNIT" type="STRING" size="256"/>
          <Column id="GOODQTY" type="BIGDECIMAL" size="256"/>
          <Column id="GOODPNLQTY" type="BIGDECIMAL" size="256"/>
          <Column id="DEFECTQTY" type="BIGDECIMAL" size="256"/>
          <Column id="DEFECTPNLQTY" type="BIGDECIMAL" size="256"/>
          <Column id="TRANSITAREA" type="STRING" size="256"/>
          <Column id="RESOURCEID" type="STRING" size="256"/>
          <Column id="PRINTWEEK" type="STRING" size="256"/>
          <Column id="COMMENT" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_transitAreaParam">
        <ColumnInfo>
          <Column id="ENTERPRISEID" type="STRING" size="256"/>
          <Column id="PLANTID" type="STRING" size="256"/>
          <Column id="LOTID" type="STRING" size="256"/>
          <Column id="PROCESSSEGMENTID" type="STRING" size="256"/>
          <Column id="PROCESSSEGMENTVERSION" type="STRING" size="256"/>
          <Column id="RESOURCETYPE" type="STRING" size="256"/>
          <Column id="LANGUAGETYPE" type="STRING" size="256"/>
          <Column id="VERSION" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_param">
        <ColumnInfo>
          <Column id="UOMCLASSID" type="STRING" size="256"/>
          <Column id="SQL_ID" type="STRING" size="256"/>
          <Column id="VERSION" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_pfsInfo">
        <ColumnInfo>
          <Column id="UOMCLASSID" type="STRING" size="256"/>
          <Column id="SQL_ID" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_workInfo">
        <ColumnInfo>
          <Column id="WORKER" type="STRING" size="256"/>
          <Column id="UNIT" type="STRING" size="256"/>
          <Column id="GOODQTY" type="BIGDECIMAL" size="256"/>
          <Column id="GOODPNLQTY" type="BIGDECIMAL" size="256"/>
          <Column id="DEFECTQTY" type="BIGDECIMAL" size="256"/>
          <Column id="DEFECTPNLQTY" type="BIGDECIMAL" size="256"/>
          <Column id="COMMENT" type="STRING" size="256"/>
          <Column id="PRINTWEEK" type="STRING" size="256"/>
          <Column id="RESOURCEID" type="STRING" size="256"/>
          <Column id="TRANSITAREA" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="GOODQTY">0</Col>
            <Col id="GOODPNLQTY">0</Col>
            <Col id="DEFECTQTY">0</Col>
            <Col id="DEFECTPNLQTY">0</Col>
            <Col id="COMMENT"/>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_lotInfoData">
        <ColumnInfo>
          <Column id="LOTID" type="STRING" size="256"/>
          <Column id="PLANTID" type="STRING" size="256"/>
          <Column id="PATHTYPE" type="STRING" size="256"/>
          <Column id="PRODUCTDEFTYPE" type="STRING" size="256"/>
          <Column id="PROCESSSTATE" type="STRING" size="256"/>
          <Column id="PROCESSPATHID" type="STRING" size="256"/>
          <Column id="PROCESSSEGMENTID" type="STRING" size="256"/>
          <Column id="PROCESSSEGMENTVERSION" type="STRING" size="256"/>
          <Column id="NEXTPROCESSSEGMENTID" type="STRING" size="256"/>
          <Column id="NEXTPROCESSSEGMENTVERSION" type="STRING" size="256"/>
          <Column id="NEXTPROCESSSEGMENTTYPE" type="STRING" size="256"/>
          <Column id="PRODUCTDEFVERSION" type="STRING" size="256"/>
          <Column id="PRODUCTTYPE" type="STRING" size="256"/>
          <Column id="PRODUCTDEFTYPEID" type="STRING" size="256"/>
          <Column id="LOTTYPE" type="STRING" size="256"/>
          <Column id="ISHOLD" type="STRING" size="256"/>
          <Column id="AREANAME" type="STRING" size="256"/>
          <Column id="DEFECTUNIT" type="STRING" size="256"/>
          <Column id="PCSPNL" type="STRING" size="256"/>
          <Column id="PANELPERQTY" type="STRING" size="256"/>
          <Column id="PROCESSSEGMENTTYPE" type="STRING" size="256"/>
          <Column id="STEPTYPE" type="STRING" size="256"/>
          <Column id="ISPRINTLOTCARD" type="STRING" size="256"/>
          <Column id="ISPRINTRCLOTCARD" type="STRING" size="256"/>
          <Column id="TRACKINUSER" type="STRING" size="256"/>
          <Column id="TRACKINUSERNAME" type="STRING" size="256"/>
          <Column id="MATERIALCLASS" type="STRING" size="256"/>
          <Column id="AREAID" type="STRING" size="256"/>
          <Column id="ISRCLOT" type="STRING" size="256"/>
          <Column id="SELFSHIPINSPRESULT" type="STRING" size="256"/>
          <Column id="SELFTAKEINSPRESULT" type="STRING" size="256"/>
          <Column id="MEASUREINSPRESULT" type="STRING" size="256"/>
          <Column id="OSPINSPRESULT" type="STRING" size="256"/>
          <Column id="ISBEFOREROLLCUTTING" type="STRING" size="256"/>
          <Column id="Column30" type="STRING" size="256"/>
          <Column id="LOTSTATE" type="STRING" size="256"/>
          <Column id="WAREHOUSEID" type="STRING" size="256"/>
          <Column id="ISWEEKMNG" type="STRING" size="256"/>
          <Column id="DESCRIPTION" type="STRING" size="256"/>
          <Column id="PARENTPROCESSSEGMENTCLASSID" type="STRING" size="256"/>
          <Column id="RTRSHT" type="STRING" size="256"/>
          <Column id="PROCESSSEGMENTCLASSID" type="STRING" size="256"/>
          <Column id="RESOURCENAME" type="STRING" size="256"/>
          <Column id="ISCLAIMLOT" type="STRING" size="256"/>
          <Column id="PRODUCTDEFID" type="STRING" size="256"/>
          <Column id="UNIT" type="STRING" size="256"/>
          <Column id="PREVPROCESSSEGMENTNAME" type="STRING" size="256"/>
          <Column id="PRODUCTDEFNAME" type="STRING" size="256"/>
          <Column id="PRODUCTIONTYPENAME" type="STRING" size="256"/>
          <Column id="PNLQTY" type="STRING" size="256"/>
          <Column id="PROCESSSEGMENTNAME" type="STRING" size="256"/>
          <Column id="INPUTDATE" type="STRING" size="256"/>
          <Column id="ISLOCKING" type="STRING" size="256"/>
          <Column id="PCSQTY" type="STRING" size="256"/>
          <Column id="NEXTPROCESSSEGMENTNAME" type="STRING" size="256"/>
          <Column id="PRODUCTIONORDERID" type="STRING" size="256"/>
          <Column id="ISREWORK" type="STRING" size="256"/>
          <Column id="MM" type="STRING" size="256"/>
          <Column id="USERSEQUENCE" type="STRING" size="256"/>
          <Column id="DUEDATE" type="STRING" size="256"/>
          <Column id="CUSTOMERNAME" type="STRING" size="256"/>
          <Column id="RESOURCEID" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Script type="xscript5.1"><![CDATA[/***************************************************************************************
 * 시스템명 	: IFC MES시스템
 * 업무명 		: 인수등록
 * 파일명 		: PCM01900D02.xfdl
 * 작성자 		: 김성현
 * 작성일 		: 2021.04.08
 *
 * 설  명		: 인수등록 모듈
 *---------------------------------------------------------------------------------------
 * 변경일		변경자		변경내역
 *---------------------------------------------------------------------------------------
 * 2021.04.08	김성현   	최초작성
 *---------------------------------------------------------------------------------------
 ****************************************************************************************/

/**************************************************************************
 * 1. 필수 include
 ***************************************************************************/
include "lib::lib_bas.xjs";	//기준관리 공통 라이브러리 include
include "lib::lib_pcm.xjs";	
include "lib::lib_tom.xjs";	//TOM 공통 라이브러리 include
include "lib::lib_mtm.xjs";	//MTM 공통 라이브러리 include

/**************************************************************************
 * 2. FORM 변수 선언 영역
 ***************************************************************************/

this.g_workerId = "";   // 작업자 id	
this.g_areaId = "";		// 작업장 id	
this.g_LotId       = "";

this.primaryAreaId = ""; 
this.plantId = "";
this.pathType = "";
this.productDefType = "";
this.lastRework = "";

this.btn_workerSrh_flag = false;

	
 // this.gf_getEnterpriseId()
// this.gf_getEnterpriseId()                             
// this.gf_getSiteType()                                 
// this.gf_getLanguageType()
// this.gf_getUserId()
// this.gf_getUserNm()
 
 
/**************************************************************************
 * 3. FORM LOAD
 ***************************************************************************/
this.fn_init = function (obj:Form, e:nexacro.LoadEventInfo)
{   
	console.log("PCM01900D02");
	// 초기화 (공통)
	this.nfn_formInit(obj);	
	this.setProcessType(this.ProcessType.WorkCompletion); 
	this.setControlsVisible();
	this.setEnable(false);	
	this.fn_initCombo();
};

this.fn_initCombo = function ()
 {
 
 	this.ds_param.clearData();
 	this.ds_param.addRow();
 	this.ds_param.setColumn(0,"UOMCLASSID", "Segment");
	this.ds_param.setColumn(0,"VERSION", "10001");
 	
 	var sSvcID 			= "getUomDefinitionList";
 	var sController 	= "/pcm01700/getUomDefinitionList.do"; // selectCustomQuery
 	var sInDatasets 	= "INPUT=ds_param";
 	var sOutDatasets 	= "ds_unitOfMaterial=output";
 	var sArgs 			= "";
 	this.gfn_transaction(sSvcID, sController, sInDatasets, sOutDatasets, sArgs);
 };
 
/**************************************************************************
 * 4. 공통버튼영역 (함수 삭제금지!!!!)
 ***************************************************************************/


/**************************************************************************
 * 5. TRANSACTION, CALLBACK 영역
 ***************************************************************************/
this.fn_callBack = function (trId, errCD, errMsg)
{
	if (errCD != 0) 
	{
		this.gfn_Message("ProcessingError", trId + errMsg, "error", "ok");
		return;
	}
	
	switch(trId) {		
		case "getUomDefinitionList": 		

 			this.spn_numGoodQty.set_enable(false);
 			this.spn_numGoodPnlQty.set_enable(false);
 			this.spn_numDefectQty.set_enable(false);
 			this.spn_numDefectPnlQty.set_enable(false);
 
 			//설비는 하단 탭으로, 설비 그룹은 사용 안함
 			//일단 visible false처리
 			this.sta_equpment.set_visible(false);
			this.sta_equpment.set_enable(false);
 			this.cbo_equpment.set_visible(false);
			this.cbo_equpment.set_enable(false);
 			this.sta_equpmentClass.set_visible(false);
			this.sta_equpmentClass.set_enable(false);
 			this.cbo_equpmentClass.set_visible(false);
			this.cbo_equpmentClass.set_enable(false);
 
 			this.sta_goodQtyUOM.set_font("normal 9px 맑은 고딕");  // 양품수량 pnl
 			this.sta_defectQtyUOM.set_font("normal 9px 맑은 고딕"); // 불량수량 pnl
 
 
			break;
		
	  case "getLotProductTypePathType": // x, LotProductTypePathType
		
			if (this.ds_lotInfo.getRowCount() > 0)
			{
				this.plantId = this.nfn_nvl(this.ds_lotInfo.getColumn(0, "PLANTID"), "");
				this.pathType = this.nfn_nvl(this.ds_lotInfo.getColumn(0, "PATHTYPE"), "");
				this.productDefType = this.nfn_nvl(this.ds_lotInfo.getColumn(0, "PRODUCTDEFTYPE"), "");
			}
			
			var pathType_endsWith = this.pathType.substring(this.pathType.length-3, this.pathType.length);
			
			if (pathType_endsWith == "End" && this.productDefType == "SubAssembly")
			{	
				this.sta_transitArea.set_tooltiptext("TRANSITAREA");
				this.cbo_transitArea.set_codecolumn("AREAID");
				this.cbo_transitArea.set_datacolumn("AREANAME");

				if (this.gf_getEnterpriseId() == this.getEnterPrise_InterFlex()) // ???
				{
					this.ds_areaParam.clearData();
					this.ds_areaParam.addRow();
					this.ds_areaParam.setColumn(0, "PLANTID", this.plantId);
					this.ds_areaParam.setColumn(0, "LANGUAGETYPE", this.gf_getLanguageType());
					this.ds_areaParam.setColumn(0, "VERSION", "10004");
					

					// 10004
					var sSvcID = "getAreaList";
					var sController = "/pcm01700/getAreaList.do";
					var sInDatasets = "INPUT=ds_areaParam";
					var sOutDatasets = "ds_transitAreaList=output";
					var sArgs = "";
					this.gfn_transaction(sSvcID, sController, sInDatasets, sOutDatasets, sArgs);
				}
			}
			else
			{
				
				//this.sta_transitArea.set_tooltiptext("TRANSITAREA");
				//this.cbo_transitArea.set_codecolumn("AREAID");
				//this.cbo_transitArea.set_datacolumn("AREANAME");
				this.sta_transitArea.set_tooltiptext("TRANSITRESOURCE");
				this.cbo_transitArea.set_codecolumn("RESOURCEID");
				this.cbo_transitArea.set_datacolumn("RESOURCENAME");
				trace(this.ds_transitAreaParam.saveXML());
				var sSvcID = "getTransitAreaList";
				var sController = "/pcm01700/getTransitAreaList.do";
				var sInDatasets = "INPUT=ds_transitAreaParam";
				var sOutDatasets = "ds_transitAreaList=output";
				var sArgs = "";
				
				if(this.lastRework  == "Y") { 
					this.ds_transitAreaParam.setColumn(0, "VERSION", "10032");
				}
				else{ 
					this.ds_transitAreaParam.setColumn(0, "VERSION", "10031");
				}					
				this.gfn_transaction(sSvcID, sController, sInDatasets, sOutDatasets, sArgs);
				
			}
			

		break;
		
	  case "getAreaList":  // LotProductTypePathType, getAreaList
		
		this.primaryAreaId = this.nfn_nvl(this.ds_lotInfo.getColumn(0, "AREAID"), "");
		this.cbo_transitArea.set_value(this.primaryAreaId);
		this.cbo_transitArea.set_codecolumn("AREAID");
		this.cbo_transitArea.set_datacolumn("AREANAME");	
		this.cbo_transitArea.set_innerdataset(this.ds_transitAreaList);
		/*
			
			
			if(this.primaryAreaId == "")
			{   //EmptyItemValue
				this.cbo_transitArea.set_codecolumn("");
				this.cbo_transitArea.set_datacolumn("");				
			}
			else{
				this.cbo_transitArea.set_codecolumn(this.primaryAreaId);
				this.cbo_transitArea.set_datacolumn(this.primaryAreaId);				
			}	
		*/
			this.setControlsInfo3();
			
						
		break;
		
	  case "getTransitAreaList": // TransitAreaList
			if (this.nfn_isNull(this.ds_lotInfoData.getColumn(0, "NEXTPROCESSSEGMENTID")))
			{
				this.primaryAreaId = this.nfn_nvl(this.ds_lotInfoData.getColumn(0, "RESOURCEID"), "");
			}
			else
			{
				for (var i = 0; i < this.ds_transitAreaList.getRowCount(); i++)
				{
					if (this.nfn_nvl(this.ds_transitAreaList.getColumn(i, "ISPRIMARYRESOURCE"), "N") == "Y")
					{
						this.primaryAreaId = this.nfn_nvl(this.ds_transitAreaList.getColumn(i, "RESOURCEID"), "N");
						break;
					}
				}
			}
			
			this.cbo_transitArea.set_value(this.primaryAreaId);
			this.cbo_transitArea.set_codecolumn("RESOURCEID");
			this.cbo_transitArea.set_datacolumn("RESOURCENAME");	
			this.cbo_transitArea.set_innerdataset(this.ds_transitAreaList);
			/*
			
			
			if(this.primaryAreaId == "")
			{   //EmptyItemValue
				this.cbo_transitArea.set_codecolumn("");
				this.cbo_transitArea.set_datacolumn("");				
			}
			else{
				this.cbo_transitArea.set_codecolumn(this.primaryAreaId);
				this.cbo_transitArea.set_datacolumn(this.primaryAreaId);				
			}
			*/
			
			this.setControlsInfo3();
			
		break;		
			
	  default:
	
	}

};


 /**************************************************************************
  * 6. 팝업 호출/콜백
  **************************************************************************/
 this.fn_popupAfter = function(sPopupId, Variant)
 {  
 	var rtn = this.fv_rtnValue;	
     switch(sPopupId)
 	{
 		case "SEARCH_UserList" :
		/*	
			this.g_workerId = rtn[0]; // 작업자 id
 			this.edt_worker.set_value(rtn[1]);
			this.ds_workInfo.setColumn(0, "WORKER", rtn[0]);
			*/
			
			var str="";
			var str_id="";
			for(var i=0; i<rtn.length; i++){
				var colArray = rtn[i];			
				var str0 = (i==0) ? "" : "," ;
				str_id = str_id + str0 + colArray[0];
				str = str + str0 + colArray[1];
			}			
			
			this.g_workerId = str_id; // 작업자 id
 			this.edt_worker.set_value(str);
			this.ds_workInfo.setColumn(0, "WORKER", str_id);
			this.edt_worker.set_enable(false);
			this.btn_workerSrh.set_enable(false);
		
// 			this.resultInfo.resultCd = "USER";
// 			var retData = JSON.stringify(this.resultInfo);
// 			this.fv_rtnValue = retData;

			this.setControlsInfo2();
	
 	      break;
 		case "SEARCH_WorkerByProcess" :		
			var str="";
			var str_id="";
			for(var i=0; i<rtn.length; i++){
				var colArray = rtn[i];			
				var str0 = (i==0) ? "" : "," ;
				str_id = str_id + str0 + colArray[0];
				str = str + str0 + colArray[1];
			}			
			
			this.g_workerId = str_id; // 작업자 id
 			this.edt_worker.set_value(str); 
			this.ds_workInfo.setColumn(0, "WORKER", str_id);
			
			this.edt_worker.set_enable(true);
			this.btn_workerSrh.set_enable(true);	
			
			this.setControlsInfo2();
			
 			break;
 		default :
 			break;
 	}	
 };
 

this.resultInfo = {
		resultCd :	"FAIL"	//결과코드
	  , resourceId : "" //
};

/**************************************************************************
 * 7. 기타 함수(화면 로컬 정의) 
 **************************************************************************/


 this.setControlsVisible = function ()
 {
 	switch (this.getProcessType())
 	{
 		case this.ProcessType.WorkCompletion: // ProcessType.WorkCompletion:
 			this.sta_transitArea.set_visible(false); //인계작업장 패널
			this.sta_transitArea.set_enable(false); 
 			this.cbo_transitArea.set_visible(false);
			this.cbo_transitArea.set_enable(false);
 			this.sta_printWeek.set_visible(false);  //인쇄주차 텍스트 박스
			this.sta_printWeek.set_enable(false); 
 			this.edt_printWeek.set_visible(false);  
			this.edt_printWeek.set_enable(false);  
			this.edt_printWeek.set_readonly(true);  
 			break; 		
 	}
 };
 
 this.setUserInfo = function ()
 {
 	//GetUserList 10001
 	var txtSearch = ""
 	if (!this.nfn_isNull(this.parent.parent.parent.parent.div_work.form.div_search.form.edt_area.value))
 	{
 		txtSearch = "USERIDNAME="+ this.gf_getUserId();
 	}
 	
 	var popupId = "SEARCH_UserList";  ///pcmCommon/getUserList.do
 	var oArg = {};
 	oArg.arg_type = "CA"; // C: 체크박스 B: 단일, CA : arg_searchStr 자동조회
 	oArg.arg_popupCd = "P00195";
 	oArg.arg_popupNm = "유저 리스트 조회";
 	oArg.arg_rtnCols = "WORKERID|WORKERNAME";
 	oArg.arg_paramCols = "PLANTID";
 	oArg.arg_paramValues = this.gf_getSiteType() ;  //this.gf_getSiteType()
 	oArg.arg_searchStr = txtSearch;
 			   
 	this.gfn_openPopup(popupId,"pcm::PCM01700P5.xfdl",oArg,"width=450,height=600");
 };
 
 // 인계작업장 visible
 this.getTransitAreaVisible = function ()
 {
 	return this.sta_transitArea.visible;
 };
 
 this.setTransitAreaVisible = function (v)
 {
 	this.sta_transitArea.set_visible(v);
	this.sta_transitArea.set_enable(v);
 	this.cbo_transitArea.set_visible(v);
	this.cbo_transitArea.set_enable(v);
 };
 
 
 //UOM 콤보 
 this.getUnitComboEnable = function ()
 {
 	return this.cbo_unitOfMaterial.enable;
 };
 
 this.setUnitComboEnable = function (v)
 {
 	this.cbo_unitOfMaterial.set_enable(v);
 };
 
  this.setUserInfoByArea = function ()
 {
 	//GetUserList 10001
 	var txtSearch = ""
 	if (!this.nfn_isNull(this.parent.parent.parent.parent.div_work.form.div_search.form.edt_area.value))
 	{
 		txtSearch = "TXTWORKERIDNAME="+ this.edt_worker.value;
 	}
 	
 	
 	// 자사구분
 	//workerCondition.GridColumns.AddComboBoxColumn("OWNTYPE", 100, new SqlQuery("GetCodeList", "00001", "CODECLASSID=OwnType", $"LANGUAGETYPE={UserInfo.Current.LanguageType}"));
 	// 작업자유형
 	//workerCondition.GridColumns.AddComboBoxColumn("WORKERTYPE", 120, new SqlQuery("GetCodeList", "00001", "CODECLASSID=WorkerType", $"LANGUAGETYPE={UserInfo.Current.LanguageType}"));
 
 	//???  ==> 디폴트 , 작업자유형 팝업
 	
 	var popupId = "SEARCH_WorkerByProcess";  // /pcmCommon/getWorkerByProcess.do
 	var oArg = {};
 	oArg.arg_type = "CA"; // C: 체크박스 B: 단일, CA : arg_searchStr 자동조회
 	oArg.arg_popupCd = "P00196";  //getWorkerByProcess.do  /pcmCommon/getWorkerByProcess.do
 	oArg.arg_popupNm = "작업자 조회";
 	oArg.arg_rtnCols = "WORKERID|WORKERNAME|EMPLOYEENO|DEPARTMENT|OWNTYPE|WORKERTYPE";
 	oArg.arg_paramCols = "USERID|ENTERPRISEID|PLANTID|AREAID";
 	oArg.arg_paramValues = this.gf_getUserId() + "|" + this.gf_getEnterpriseId() + "|" + this.gf_getSiteType() + "|" +  this.g_areaId;  //this.gf_getSiteType()
	trace(oArg.arg_paramValues);
 	oArg.arg_searchStr = txtSearch;
 			   
 	this.gfn_openPopup(popupId,"pcm::PCM01700P5.xfdl",oArg,"width=700,height=800");
 	
 };

this.setControlsInfo = function (areaId, lotId, dataSet, queryversion, lastrework)
 {
 
 // 	areaId => txtArea.Editor.SelectedData.FirstOrDefault()["AREAID"].ToString()
 // 	lotId => txtLotId.Text
 // 	dataSource => lotInfo   DataTable lotInfo = SqlExecuter.Query("SelectLotInfoByProcess", processDefType == "Rework" ? "10032" : "10031", param); 데이타셋
 // 	queryVersion => queryVersion
	
	this.btn_workerSrh_flag = false;
	
	this.g_workerId = "";
 	this.edt_worker.set_value(""); 
			
	this.g_areaId = areaId;
	this.g_LotId  = lotId;
 	//DataTable dataSource, string queryVersion = "10001"
    this.lastRework  = lastrework;
 	
 	this.ds_lotInfoData.clearData();
 	this.ds_lotInfoData.copyData(dataSet);
		
 	if (this.getProcessType() == this.ProcessType.LotAccept || this.getProcessType() == this.ProcessType.TransitRegist)
 	{
		this.g_workerId = this.gf_getUserId();
		this.edt_worker.set_value(this.gf_getUserNm());
		
		this.ds_workInfo.setColumn(0, "WORKER", this.gf_getUserId());
		
		this.edt_worker.set_enable(false);
		this.btn_workerSrh.set_enable(false);

		this.setControlsInfo2();
 	}
	else
	{	
		this.edt_worker.set_enable(true);
		this.btn_workerSrh.set_enable(true);	
		
		this.setControlsInfo2();		
	}
	
 };
 
 this.setControlsInfo2 = function ()
 {
 
	if(this.btn_workerSrh_flag) return;
  
 	this.ds_transitAreaParam.clearData();
 	this.ds_transitAreaParam.addRow();
 	this.ds_transitAreaParam.setColumn(0, "ENTERPRISEID", this.gf_getEnterpriseId()); //??? ==> 세션 
 	this.ds_transitAreaParam.setColumn(0, "PLANTID", this.gf_getSiteType());
 	this.ds_transitAreaParam.setColumn(0, "LOTID", this.g_LotId );
 	this.ds_transitAreaParam.setColumn(0, "PROCESSSEGMENTID", this.ds_lotInfoData.getColumn(0, "NEXTPROCESSSEGMENTID"));
 	this.ds_transitAreaParam.setColumn(0, "PROCESSSEGMENTVERSION", this.ds_lotInfoData.getColumn(0, "NEXTPROCESSSEGMENTVERSION"));
 	this.ds_transitAreaParam.setColumn(0, "RESOURCETYPE", "Resource");
 	this.ds_transitAreaParam.setColumn(0, "LANGUAGETYPE", this.gf_getLanguageType());
 

 	switch (this.getProcessType())
 	{
 		case this.ProcessType.LotAccept:
			this.setControlsInfo3();
 			break;
 		case this.ProcessType.StartWork:
			this.setControlsInfo3();
 			break;
 		case this.ProcessType.WorkCompletion:
 			var processSegmentType = this.ds_lotInfoData.getColumn(0, "PROCESSSEGMENTTYPE");
 			var isWeekMng = this.ds_lotInfoData.getColumn(0, "ISWEEKMNG");
 			var stepType = this.ds_lotInfoData.getColumn(0, "STEPTYPE");
 
 			if (isWeekMng == "Y") {
 				this.sta_printWeek.set_visible(true);
				this.sta_printWeek.set_enable(true);
 				this.edt_printWeek.set_visible(true);
				this.edt_printWeek.set_enable(true);
				this.edt_printWeek.set_readonly(false);
 			}
 			else 
 			{
 				this.sta_printWeek.set_visible(false);
				this.sta_printWeek.set_enable(false);
 				this.edt_printWeek.set_visible(false);	
				this.edt_printWeek.set_enable(false);	
				this.edt_printWeek.set_readonly(true);
 			}
 			
 			// TODO : Resource
 			// 인계 작업장
			trace(stepType);
 			if (stepType.split(',').indexOf("WaitForSend") == -1)
 			{
 				
 				this.sta_transitArea.set_visible(true);
				this.sta_transitArea.set_enable(true);
 				this.cbo_transitArea.set_visible(true);
				this.cbo_transitArea.set_enable(true);
				this.cbo_transitArea.set_readonly(false);
 				

				this.fn_getLotProductTypePathType();
 	

 			}
 			else
 			{
 				this.sta_transitArea.set_visible(false);
				this.sta_transitArea.set_enable(false);
 				this.cbo_transitArea.set_visible(false);
				this.cbo_transitArea.set_enable(false);
				this.cbo_transitArea.set_readonly(true);
 				this.cbo_transitArea.set_innerdataset(null);
				
				this.setControlsInfo3();
 			}
 
 
 			break;
 		case this.ProcessType.TransitRegist:
 			
			this.fn_getLotProductTypePathType();
 				
 			break;
 	} //switch end 
 

 };
 
 this.fn_getLotProductTypePathType = function ()
 {
	this.ds_lotParam.clearData();
	this.ds_lotParam.addRow();
	this.ds_lotParam.setColumn(0, "ENTERPRISEID", this.gf_getEnterpriseId());
	this.ds_lotParam.setColumn(0, "PLANTID", this.gf_getSiteType());
	this.ds_lotParam.setColumn(0, "LOTID", this.g_LotId);
	this.ds_lotParam.setColumn(0, "VERSION", "10001");


	//10001
	var sSvcID = "getLotProductTypePathType";
	var sController = "/pcm01700/getLotProductTypePathType.do";
	var sInDatasets = "INPUT=ds_lotParam";
	var sOutDatasets = "ds_lotInfo=output";  // 확인
	var sArgs = "";
	this.gfn_transaction(sSvcID, sController, sInDatasets, sOutDatasets, sArgs);
 };			
 
 this.setControlsInfo3 = function ()
 {
 	var defectUnit = this.ds_lotInfoData.getColumn(0, "DEFECTUNIT");
 
 	if (this.nfn_isNull(defectUnit))
 	{
 		var materialClass = this.nfn_nvl(this.ds_lotInfoData.getColumn(0, "MATERIALCLASS"), "");
 		
 		this.cbo_unitOfMaterial.set_value("PNL") ; //  콤보리스트에서 PNL 선택
		this.ds_workInfo.setColumn(0, "UNIT", "PNL");
 
 		if (materialClass == "FG")
 		{
 			this.cbo_unitOfMaterial.set_enable(true);
 		}
 		else
 		{
 			var pcsPnl = nexacro.toNumber(this.nfn_nvl(this.ds_lotInfoData.getColumn(0, "PANELPERQTY"), "0"));
 			
 			if (pcsPnl == 0)
			{
 				this.cbo_unitOfMaterial.set_value("EA");
				this.ds_workInfo.setColumn(0, "UNIT", "EA");
			}
			
 			this.cbo_unitOfMaterial.set_enable(true);
 		}
 	}
 	else
 	{
 		this.cbo_unitOfMaterial.set_value(defectUnit);
		this.ds_workInfo.setColumn(0, "UNIT", defectUnit);
 		this.cbo_unitOfMaterial.set_enable(false);
 	}
 
 	var unitOfMaterial = this.cbo_unitOfMaterial.value;
 	
 	this.spn_numGoodQty.set_value(nexacro.toNumber(this.nfn_nvl(this.ds_lotInfoData.getColumn(0, "PCSQTY"), "0"))); //
 	this.spn_numGoodPnlQty.set_value(nexacro.toNumber(this.nfn_nvl(this.ds_lotInfoData.getColumn(0, "PNLQTY"), "0")));
	
	this.ds_workInfo.setColumn(0, "GOODQTY"   , nexacro.toNumber(this.nfn_nvl(this.ds_lotInfoData.getColumn(0, "PCSQTY"), "0")));
	this.ds_workInfo.setColumn(0, "GOODPNLQTY", nexacro.toNumber(this.nfn_nvl(this.ds_lotInfoData.getColumn(0, "PNLQTY"), "0")));
	
	// 메인 창 콜백
	this.parent.parent.parent.parent.fn_setControlsInfo_CallBack();
 };
 
 this.setWorker = function (workerId, workerName)
 {
	this.g_workerId = workerId;
	this.edt_worker.set_value(workerName);
	
	this.ds_workInfo.setColumn(0, "WORKER", workerId);
 };
 
 this.setQty = function (defectQty)
 {
 	defectQty = nexacro.toNumber(defectQty);
 		 
 	var unit = this.cbo_unitOfMaterial.value;
 
 	var panelQty = nexacro.toNumber(this.nfn_nvl(this.ds_lotInfoData.getColumn(0, "PNLQTY"), "0"));
 	var qty = nexacro.toNumber(this.nfn_nvl(this.ds_lotInfoData.getColumn(0, "PCSQTY"), "0"));
 	var pcsPnl = nexacro.toNumber(this.nfn_nvl(this.ds_lotInfoData.getColumn(0, "PANELPERQTY"), "0"));
 	var dDefectPnlQty = 0;
 	var dGoodPnlQty = 0;
 	
 	if (pcsPnl > 0)
 	{
 		dGoodPnlQty = nexacro.ceil((qty - defectQty) / pcsPnl);
 		dDefectPnlQty = nexacro.ceil(defectQty / pcsPnl);
 	}
 
 
 	this.spn_numDefectQty.set_value(defectQty);
 	this.spn_numGoodQty.set_value(qty - defectQty);
 	
 	this.spn_numGoodPnlQty.set_value(dGoodPnlQty); 
 	this.spn_numDefectPnlQty.set_value(dDefectPnlQty); 
	
	this.ds_workInfo.setColumn(0, "DEFECTQTY"   , defectQty);
	this.ds_workInfo.setColumn(0, "GOODQTY", qty - defectQty);
	
	this.ds_workInfo.setColumn(0, "GOODPNLQTY", dGoodPnlQty); 
	this.ds_workInfo.setColumn(0, "DEFECTPNLQTY"   , dDefectPnlQty); 
	
 	
 };
 
 this.getValues = function ()
 {
	this.ds_workInfo.setColumn(0, "WORKER", this.g_workerId);
	
 		
 	this.ds_result.clearData();
 	this.ds_result.addRow();
 	this.ds_result.setColumn(0, "WORKER", this.g_workerId);
 	this.ds_result.setColumn(0, "UNIT", this.cbo_unitOfMaterial.value);
 	this.ds_result.setColumn(0, "GOODQTY", this.spn_numGoodQty.value);
 	this.ds_result.setColumn(0, "GOODPNLQTY", this.spn_numGoodPnlQty.value);
 	this.ds_result.setColumn(0, "DEFECTQTY", this.spn_numDefectQty.value);
 	this.ds_result.setColumn(0, "DEFECTPNLQTY", this.spn_numDefectPnlQty.value);
 	
 
 	if (this.sta_transitArea.visible)
 	{
 		if (this.cbo_transitArea.codecolumn == "AREAID") 
 		{
 			this.ds_result.setColumn(0, "TRANSITAREA", this.cbo_transitArea.value);
			this.ds_workInfo.setColumn(0, "TRANSITAREA", this.cbo_transitArea.value);
 		}
 		else if (this.cbo_transitArea.codecolumn == "RESOURCEID")
 		{
 			this.ds_result.setColumn(0, "RESOURCEID", this.cbo_transitArea.value);  
 			this.ds_result.setColumn(0, "TRANSITAREA", this.ds_transitAreaList.getColumn(this.ds_transitAreaList.getRowCount()-1, "AREAID")); 
			
			this.ds_workInfo.setColumn(0, "RESOURCEID", this.cbo_transitArea.value);  
			this.ds_workInfo.setColumn(0, "TRANSITAREA", this.ds_transitAreaList.getColumn(this.ds_transitAreaList.getRowCount()-1, "AREAID"));  
 		}
 	}
 
 	if (this.edt_printWeek.visible) 
	{
 		this.ds_result.setColumn(0, "PRINTWEEK", this.edt_printWeek.value);
		this.ds_workInfo.setColumn(0, "PRINTWEEK", this.edt_printWeek.value);
	}
 
 	this.ds_result.setColumn(0, "COMMENT", this.edt_comment.value);
	this.ds_workInfo.setColumn(0, "COMMENT", this.edt_comment.value);
 
 	return this.ds_result;
 };


 this.getEquipmentList = function ()
 {
 	return ""; // this.cbo_equpment 의 데이타셋 리턴
 };
 
 this.getLotEquipmentList = function ()
 {
 	return this.cbo_equpment.value.split(',');
 };
 
  this.clearData = function ()
 {
 /*	ClearControlsEditValue(tlpProcessFourStepInfo.Controls);*/
 
 	if (this.getProcessType() == this.ProcessType.WorkCompletion)
 	{
 		if (this.edt_printWeek.visible) {
 			this.sta_printWeek.set_visible(false);
			this.sta_printWeek.set_enable(false);
 			this.edt_printWeek.set_visible(false);
			this.edt_printWeek.set_enable(false);
			this.edt_printWeek.set_readonly(t);
 		}
 		
 		if (this.cbo_transitArea.visible) {
 			this.sta_transitArea.set_visible(false);
			this.sta_transitArea.set_enable(false);
 			this.cbo_transitArea.set_visible(false);	
			this.cbo_transitArea.set_enable(false);
 		}
 	}
 };
 
 this.getEquipmentDataSource = function ()
 {
 	return this.cbo_equpment.getInnerDataset();
 };
 
 this.getWorker = function (workerId, workerName)
 {
	this.g_workerId = workerId;
 	this.edt_worker.set_value(workerName);
	
	this.ds_workInfo.setColumn(0, "WORKER", workerId);
 };
 
 this.setEnable = function (isEnable)
 {
 	this.setEnableControl(isEnable);
 };
 
 this.setUnitOfMaterialControlEnable = function ()
 {
 	var defectUnit = this.ds_lotInfoData.getColumn(0, "DEFECTUNIT");
 
 	if (this.nfn_isNull(defectUnit))
 	{
 		var materialClass = this.nfn_nvl(this.ds_lotInfoData.getColumn(0, "MATERIALCLASS"), "");
 
 		this.cbo_unitOfMaterial.set_value("PNL"); // cboUnitOfMaterial.EditValue = "PNL"; ??
		this.ds_workInfo.setColumn(0, "UNIT", "PNL");
		
 		if (materialClass == "FG")
 		{
 			this.cbo_unitOfMaterial.set_enable(true);
 		}
 		else
 		{
 			var pcsPnl = nexacro.toNumber(this.nfn_nvl(this.ds_lotInfoData.getColumn(0, "PANELPERQTY"), "0")); 
 
 			if (pcsPnl == 0) {
 				this.cbo_unitOfMaterial.set_value("EA"); // cboUnitOfMaterial.EditValue = "EA"; ?? 
				this.ds_workInfo.setColumn(0, "UNIT", "EA");
		    }
 			this.cbo_unitOfMaterial.set_enable(true);
 		}
 
 	}
 	else
 	{
 		this.cbo_unitOfMaterial.set_value(defectUnit); // cboUnitOfMaterial.EditValue = defectUnit; ??
		this.ds_workInfo.setColumn(0, "UNIT", defectUnit);
		
 
 		this.cbo_unitOfMaterial.set_enable(false);
 	}
 };
 
 
this.setEnableControl = function (isEnable)
{
 
 
 	if (this.getProcessType() == this.ProcessType.LotAccept || this.getProcessType() == this.ProcessType.TransitRegist)
 	{
 // 						smartLabelSelectPopup.Editor.ReadOnly = true;
 // 						smartLabelSelectPopup.Editor.SearchButtonReadOnly = true;
 // 						smartLabelSelectPopup.Editor.ClearButtonVisible = false;
 		this.btn_workerSrh.set_enable(false);
 	}
 
 
 // 				smartLabelSelectPopup.Editor.ReadOnly = isEnable;
 // 				smartLabelSelectPopup.Editor.SearchButtonReadOnly = isEnable;
 // 				smartLabelSelectPopup.Editor.ClearButtonVisible = !isEnable;
 	//this.btn_workerSrh.set_enable(!isEnable);
 	
 	this.cbo_unitOfMaterial.set_enable(isEnable);
 
 	this.cbo_equpment.set_enable(isEnable);
 	this.cbo_equpmentClass.set_enable(isEnable);
 	this.cbo_unitOfMaterial.set_enable(isEnable);
 		
 	this.cbo_transitArea.set_enable(isEnable);
 	this.edt_printWeek.set_enable(isEnable);
 
 };


/**************************************************************************
 * 8. 이벤트
 ***************************************************************************/



this.cbo_equpmentClass_onitemchanged = function(obj:nexacro.Combo,e:nexacro.ItemChangeEventInfo)
{
 	if (!this.cbo_equpmentClass.visible)
 		return;
 
 	
 	if (this.cbo_equpment.getInnerDataset() == null)
 		return;
 
 	//DataView view = (cbo_equpment.Editor.DataSource as DataTable).DefaultView; ??? -===> 필요없는거다.
 
 	if (this.nfn_isNull(this.cbo_equpmentClass.value))
 		view.RowFilter = "";
 	else
 		view.RowFilter = "EQUIPMENTCLASSID = '" + this.cbo_equpmentClass.value + "'";
 
 	//EquipmentClassEditValueChanged?.Invoke(cbo_equpment.Editor, e); // 투명도 바꾸기	
};

this.cbo_unitOfMaterial_onitemchanged = function(obj:nexacro.Combo,e:nexacro.ItemChangeEventInfo)
{

};

this.btn_workerSrh_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{		
	this.btn_workerSrh_flag  = true;
	
 	if (this.getProcessType() == this.ProcessType.LotAccept || this.getProcessType() == this.ProcessType.TransitRegist)
 	{
 		this.setUserInfo();
 	}
 	else
 	{
 		this.setUserInfoByArea();
 	}
	
};

this.edt_worker_onkeydown = function(obj:nexacro.Edit,e:nexacro.KeyEventInfo)
{
	if(e.keycode==13){
		this.btn_workerSrh_onclick();
	}
};

this.cbo_transitArea_onitemchanged = function(obj:nexacro.Combo,e:nexacro.ItemChangeEventInfo)
{
	var tabObj  = this.parent.parent.parent.parent.div_work.form.tab_main.tpgPostProcessEquipmentWip;	
	tabObj.form.fn_search();	
};
]]></Script>
    <Bind>
      <BindItem id="item1" compid="cbo_unitOfMaterial" propid="value" datasetid="ds_workInfo" columnid="UNIT"/>
      <BindItem id="item2" compid="edt_comment" propid="value" datasetid="ds_workInfo" columnid="COMMENT"/>
      <BindItem id="item3" compid="spn_numGoodQty" propid="value" datasetid="ds_workInfo" columnid="GOODQTY"/>
      <BindItem id="item4" compid="spn_numGoodPnlQty" propid="value" datasetid="ds_workInfo" columnid="GOODPNLQTY"/>
      <BindItem id="item5" compid="spn_numDefectQty" propid="value" datasetid="ds_workInfo" columnid="DEFECTQTY"/>
      <BindItem id="item6" compid="spn_numDefectPnlQty" propid="value" datasetid="ds_workInfo" columnid="DEFECTPNLQTY"/>
      <BindItem id="item0" compid="edt_printWeek" propid="value" datasetid="ds_workInfo" columnid="PRINTWEEK"/>
    </Bind>
  </Form>
</FDL>
